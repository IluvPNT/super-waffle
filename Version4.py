from itertools import cycle
from sqlite3.dbapi2 import Time
from tkinter import *
import tkinter
from PIL import Image, ImageTk
from random import randint, randrange
import random
from tkinter import messagebox
import sqlite3
from tkinter import font
import time
import datetime as dt
import pygame, sys
from pygame.locals import *
from pygame.surface import *
from itertools import cycle
from random import randrange
from tkinter import Canvas, Tk, messagebox, font
from sys import exit
from tkvideo import tkvideo
from pynput import keyboard



from pygame import mixer
# ---DRE---

#Background

pygame.mixer.init()
pygame.font.init()

pygame.init()



# cua so login ban dau
mixer.music.load('bg_sound.mp3')
mixer.music.play()
mixer.music.set_volume(0.8)











root = Tk()
root.title('SPACE WAR')
root.geometry('1280x720')
root.config(bg = 'black')

lblVideo = Label(root)
lblVideo.pack()
video = tkvideo("SPACE WAR.mp4", lblVideo, loop = 1, size = (1280,720) )




def Button_View():
    for widgets in root.winfo_children():
            widgets.destroy()
    root.resizable(True, True)
    
    lblVideo = Label(root)
    lblVideo.pack()
    video = tkvideo("SPACE WAR.mp4", lblVideo, loop = 1, size = (1280,720) )
    video.play()

    root.geometry('1280x720')

    Dang_nhap = Button(root, text = 'Đăng nhập',width = 15, height = 1,font=('Arial', 25) ,bg = '#9577A6', command = vao_game)
    Dang_nhap.place(relx = 0.5, rely = 0.5, anchor = CENTER)
    Dang_ky = Button(root, text = 'Đăng ký',width = 15, height = 1,font=('Arial', 25) ,bg = '#FFC86F', command = vao_game)
    Dang_ky.place(relx = 0.5, rely = 0.6, anchor = CENTER)
    Dieu_khoan = Button(root, text = 'Điều khoản',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command = dieu_khoan)
    Dieu_khoan.place(relx = 0.1, rely = 0.9, anchor = 'sw')
    
    Huong_dan = Button(root, text = 'Hướng dẫn',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command = huong_dan)
    Huong_dan.place(relx = 0.9, rely = 0.9, anchor = 'se')
    

    

    
def vao_game():
    for widgets in root.winfo_children():
            widgets.destroy()
    root.resizable(True, True)
    root.title('SPACE WAR')
    
    root.geometry('1280x720')
    #bg shop
    root.config(bg = 'black')
    
    bg_img =   PhotoImage(file = 'bglogin.png')
    limg = Label(root, i = bg_img)
    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
    
    lblVideo.destroy()
    login()
    root.mainloop()
    
def huong_dan():
    root.resizable(True, True)
    root.title('HƯỚNG DẪN BẰNG TIẾNG ANH')
    
    root.geometry('1280x720')
    #bg shop
    img = PhotoImage(file = 'hdrule.png')
    limg = Label(root, i = img)
    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_huong_dan, bg = 'yellow')
    back_from_this.place(x = 400, y = 90)

    root.mainloop()

def logout_huong_dan():
    Msgbx = messagebox.askquestion('LƯU Ý', 'Trở lại màn hình game?')
    if Msgbx == 'yes':
        for widgets in root.winfo_children():
            widgets.destroy()
        root.resizable(True, True)
        root.title('SPACE WAR')
        
        root.geometry('1280x720')
        #bg shop
        root.config(bg = 'black')

        lblVideo = Label(root)
        lblVideo.pack()
        video = tkvideo("SPACE WAR.mp4", lblVideo, loop = 1, size = (1920,1080) )
        video.play()
        Button_View()
        
        root.mainloop()
        
    else:
        pass


def dieu_khoan():
    root.resizable(True, True)
    root.title('ĐIỀU KHOẢN')
    
    root.geometry('1280x720')
    #bg shop
    img = PhotoImage(file = 'dieukhoan.png')
    limg = Label(root, i = img)
    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

    back_from_this = Button(root, text = 'Trở lại màn hình game', font = ('Arial',15), command = logout_huong_dan, bg = 'yellow')
    back_from_this.place(x = 700, y = 590)

    root.mainloop()







        


Button_View()




        

    


    


        



# DATABASE

# CREATE A DATABASE O KAYA KOKONEK SA ISA
conn = sqlite3.connect('finals_db.db')

# con trỏ
c = conn.cursor()

# CREATE TABLE
'''
c.execute("""
    CREATE TABLE users
    (uname text,
    pword text)
    """)
'''



def get_font(size): # Returns Press-Start-2P in the desired size
    return pygame.font.Font("assets/font.ttf", size)



# LOADING
def loading1():
    global fr
    fr = Frame(root, width=700, height=700, padx=228, pady=108)
    fr.pack(side=TOP, expand=YES)
    frameCnt = 12
    frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
    def update(ind):
        frame = frames[ind]
        ind += 1
        label.configure(image=frame)
        if ind == 12:
            fr.destroy()
            signup_function()
        loop = 0
        if ind <= 11:
            fr.after(50, update, ind)
            loop += 1
    label = Label(fr)
    label.pack()
    fr.after(0, update, 0)

# LOADING
def loading2():
    for widgets in root.winfo_children():
            widgets.destroy()
    root.resizable(True, True)

    
    


    global fr
    fr = Frame(root, width=700, height=700, padx=228, pady=108)
    fr.pack(side=TOP, expand=YES)
    frameCnt = 12
    frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
    def update(ind):
        frame = frames[ind]
        ind += 1
        label.configure(image=frame)
        if ind == 12:
            fr.destroy()
            
            login()
        loop = 0
        if ind <= 11:
            fr.after(50, update, ind)
            loop += 1
    label = Label(fr)
    label.pack()
    fr.after(0, update, 0)



def signup_function():
    

    # CREATE SIGNUP FRAME
    signup_frame = Frame(root, height=700, width=700, padx=50, pady=50)
    signup_frame.pack(side=TOP, expand=YES)

    # SIGNUP CONTENTS
    def signup_command(event=None):
        c.execute("SELECT * FROM users WHERE uname = '" + signup_username_entry.get() + "'")
        existing_uname_fetched = c.fetchone()
        print('This is existing_uname_fetched')
        print(existing_uname_fetched)
        if signup_username_entry.get() == '' or signup_password_entry.get() == '':
            signup_spacing.config(text='Xin hãy nhập vào', fg='red')
            messagebox.showinfo('Lưu ý', 'Xin hãy nhập vào')
        elif signup_password_entry.get() != signup_password_verify_entry.get():
            signup_spacing.config(text='Mật khẩu xác nhận không khớp', fg='red')
            messagebox.showinfo('Lưu ý', 'Mật khẩu xác nhận không khớp')
        elif existing_uname_fetched == None and signup_password_entry.get() == signup_password_verify_entry.get():
            c.execute("INSERT INTO users (uname, pword) VALUES (:uname, :pword)",
                {
                    'uname': signup_username_entry.get(),
                    'pword': signup_password_entry.get()
                })
            
            # COMMIT CHANGES
            conn.commit()

            # SHOW MESSAGEBOX
            messagebox.showinfo('Lưu ý', 'Đăng ký thành công!')

            # BACK TO LOGIN
            signup_frame.pack_forget()
            login()

        elif signup_username_entry.get() == existing_uname_fetched[1]:

            signup_spacing.config(text='Tài khoản này đã tồn tại. Vui lòng chọn tên khác', fg='red')
            
            # SHOW MESSAGEBOX
            messagebox.showinfo('Lưu ý', 'Tài khoản này đã tồn tại')
        
        else:
            pass

    def signup_username_checking(event=None):
        global check_signup_username_fetched
        c.execute("SELECT * FROM users WHERE uname = '" + signup_username_entry.get() + "'")
        check_signup_username_fetched = c.fetchone()
        if signup_username_entry.get() == '':
            signup_spacing.config(text='Vui lòng nhập tên đăng nhập', fg='red')
            signup_btn.config(state=DISABLED)
        elif check_signup_username_fetched == None:
            signup_spacing.config(text='Tên tài khoản đăng ký hợp lệ', fg='green')
            signup_btn.config(state=NORMAL)
        elif check_signup_username_fetched != None:
            signup_spacing.config(text='Tên tài khoản đăng ký không hợp lệ', fg='red')
            signup_btn.config(state=DISABLED)

    global logo
    img = Image.open('logo game.PNG')
    logo = ImageTk.PhotoImage(img)
    logo_lbl = Label(signup_frame, image=logo, pady=5)
    logo_lbl.grid(row=0, column=0, columnspan=2)
    signup_label = Label(signup_frame, text='ĐĂNG KÝ', font=('', 35))
    signup_label.grid(row=1, column=0, columnspan=2, sticky=NSEW)
    signup_spacing = Label(signup_frame, text='')
    signup_spacing.grid(row=2, column=0, columnspan=2, sticky=NSEW)
    signup_username_label = Label(signup_frame, text='Tên đăng nhập:', anchor='w')
    signup_username_label.grid(row=3, column=0, sticky=W, columnspan=2)
    signup_username_entry = Entry(signup_frame, width=50)
    signup_username_entry.grid(row=4, column=0, sticky=W, columnspan=2)
    signup_password_label = Label(signup_frame, text='Mặt khẩu:', anchor='w')
    signup_password_label.grid(row=5, column=0, sticky=W, columnspan=2)
    signup_password_entry = Entry(signup_frame, width=50)
    signup_password_entry.grid(row=6, column=0, sticky=W, columnspan=2)
    signup_password_entry.config(show='?')
    signup_password_verify_label = Label(signup_frame, text='Xác nhận lại mật khẩu:', anchor='w')
    signup_password_verify_label.grid(row=8, column=0, sticky=W, columnspan=2)
    signup_password_verify_entry = Entry(signup_frame, width=50)
    signup_password_verify_entry.grid(row=9, column=0, sticky=W, columnspan=2)
    signup_password_verify_entry.config(show='?')
    signup_password_entry.config(show='?')
    signup_btn = Button(signup_frame, text='Đăng ký', padx=5, pady=5, command=signup_command, bd=3, relief=RAISED)
    signup_btn.grid(row=11, column=0, sticky=W, pady=(5, 0), columnspan=2)
    

    signup_username_entry.bind('<Tab>', signup_username_checking)
    signup_username_entry.bind('<FocusOut>', signup_username_checking)

    signup_username_entry.bind('<Return>', signup_command)
    signup_password_entry.bind('<Return>', signup_command)
    signup_password_verify_entry.bind('<Return>', signup_command)
    signup_btn.bind('<Return>', signup_command)

    def show_pass():
        if var.get() == 1:
            signup_password_entry.config(show='')
        if var.get() == 0:
            signup_password_entry.config(show='?')

    # Creating a checkbox
    var = IntVar()
    var.set('0')
    check = Checkbutton(signup_frame, text='Hiển thị mật khẩu', onvalue=1, offvalue=0, variable=var, command=show_pass, anchor=CENTER)
    check.grid(row=7, column=1, sticky=E)
    
    # Creating a checkbox for verify
    def show_pass_verify():
        if var_verify.get() == 1:
            signup_password_verify_entry.config(show='')
        if var_verify.get() == 0:
            signup_password_verify_entry.config(show='?')

    # Creating a checkbox
    var_verify = IntVar()
    var_verify.set('0')
    check_verify = Checkbutton(signup_frame, text='Hiển thị mật khẩu', onvalue=1, offvalue=0, variable=var_verify, command=show_pass_verify, anchor=CENTER)
    check_verify.grid(row=10, column=1, sticky=E)

    # ALREADY SIGNED UP? LOG IN HERE
    asu_label = Label(signup_frame, text="Đã có tài khoản? Hãy đăng nhập ở", anchor='w')
    asu_label.grid(row=12, column=0, sticky=W, pady=(5, 0))
    def here_signup_not_underlined(event=None):
        f = font.Font(here_signup_label, here_signup_label.cget("font"))
        f.configure(underline = False)
        here_signup_label.configure(font=f)
    def here_signup_underlined(event=None):
        f = font.Font(here_signup_label, here_signup_label.cget("font"))
        f.configure(underline = True)
        here_signup_label.configure(font=f)
    def back_to_login(event=None):
        def vao_game():
            for widgets in root.winfo_children():
                    widgets.destroy()
            root.resizable(True, True)
            root.title('SPACE WAR')
            
            root.geometry('1280x720')
            #bg shop
            root.config(bg = 'black')
            
            bg_img =   PhotoImage(file = 'bglogin.png')
            limg = Label(root, i = bg_img)
            limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
            
            lblVideo.destroy()
            login()
            root.mainloop()
        signup_frame.pack_forget()
        vao_game()
    here_signup_label = Label(signup_frame, text="đây.", fg='#007AFF', anchor='w')
    here_signup_label.grid(row=12, column=0, pady=(5, 0), sticky=W, padx=(187, 0))
    here_signup_label.bind('<Button-1>', back_to_login)
    here_signup_label.bind('<Leave>', here_signup_not_underlined)
    here_signup_label.bind('<Enter>', here_signup_underlined)




def login():
    # LOG IN FORM
    
    
    
    login_frame = Frame(root, width=700, height=700, padx=50, pady=50)
    login_frame.pack(side=TOP, expand=YES)

    # LOGIN CONTENTS
    def login_command(event=None):
        c.execute("SELECT * FROM users WHERE uname = '" + username_entry.get() + "' AND pword = '" + password_entry.get() + "'")
        result = c.fetchone()
        
        if password_entry.get() == '' or username_entry.get() == '':
            notice_label.config(text='Xin đừng bỏ trống')
            messagebox.showwarning('LƯU Ý', 'Xin đừng bỏ trống')
        elif result == None:
            notice_label.config(text='Sai tên người dùng hoặc mật khẩu', fg='red')
            messagebox.showinfo('LƯU Ý', 'Sai tên người dùng hoặc mật khẩu')
        else:
            # LOGIN FRAME FORGET
            login_frame.pack_forget()

            c.execute("SELECT * FROM users WHERE users_id = " + str(result[0]))
            name_display = c.fetchone()
            # HOME
            messagebox.showinfo('LƯU Ý', 'Chào mừng người chơi ' + name_display[1])
            def home():
                def loading3():
                    global fr
                    fr = Frame(root, width=700, height=700, padx=228, pady=108)
                    fr.pack(side=TOP, expand=YES)
                    frameCnt = 12
                    frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                    def update(ind):
                        frame = frames[ind]
                        ind += 1
                        label.configure(image=frame)
                        if ind == 12:
                            fr.destroy()
                            home()
                        loop = 0
                        if ind <= 11:
                            fr.after(50, update, ind)
                            loop += 1
                    label = Label(fr)
                    label.pack()
                    fr.after(0, update, 0)

                for widgets in root.winfo_children():
                        widgets.destroy()
                root.resizable(True, True)
                

               


                bg_img =   PhotoImage(file = 'giaodien.png')
                limg = Label(root, i = bg_img)
                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                root.geometry('1280x720')

                # HOME CONTENT
                print('this is name_display')
                print(name_display)
                name_logged_in = Label(root, text= 'Người chơi:  ' + name_display[1], font=('', 35), bg = 'gray')
                name_logged_in.grid(row=0, column=0, sticky=W, columnspan=2)
                
                # CLOCK
                class ElapsedTimeClock(Label):
                    def __init__(self, parent, *args, **kwargs):
                        Label.__init__(self, parent, *args, **kwargs)
                        self.lastTime = ""
                        t = time.localtime()
                        self.zeroTime = dt.timedelta(hours=t[3], minutes=t[4], seconds=t[5])
                        self.tick()
                
                    def tick(self):
                        # get the current local time from the PC
                        now = dt.datetime(1, 1, 1).now()
                        time2 = now.strftime('%H:%M:%S\n%D')
                        # if time string has changed, update it
                        if time2 != self.lastTime:
                            self.lastTime = time2
                            self.config(text=time2)
                        # calls itself every 200 milliseconds
                        # to update the time display as needed
                        # could use >200 ms, but display gets jerky
                        self.after(200, self.tick)
                
                if __name__ == "__main__":
                    clock = ElapsedTimeClock(root, anchor=CENTER, bg = 'gray')
                    clock.place(x = 1200, y = 10)

                # DEFINES
                def logout_command():
                    Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn có chắc là muốn thoát ra ngoài?')
                    if Msgbx == 'yes':
                        
                        
                        
                        loading2()
                        
                    else:
                        pass

                
                def logoutshop_command():
                    Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                    if Msgbx == 'yes':
                        for widgets in root.winfo_children():
                            widgets.destroy()
                        root.resizable(True, True)
                        root.title('SPACE WAR')
                        
                        root.geometry('1280x720')
                        #bg shop
                        root.config(bg = 'black')
                        loading3()
                        bg_img =   PhotoImage(file = 'giaodien.png')
                        limg = Label(root, i = bg_img)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        root.mainloop()
                        
                    else:
                        pass

                def logout_choose_set_command():
                    Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn trở lại màn hình chính?')
                    if Msgbx == 'yes':
                        for widgets in root.winfo_children():
                            widgets.destroy()
                        root.resizable(True, True)
                        root.title('SPACE WAR')
                        
                        root.geometry('1280x720')
                        #bg shop
                        root.config(bg = 'black')
                        loading3()
                        bg_img =   PhotoImage(file = 'giaodien.png')
                        limg = Label(root, i = bg_img)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        root.mainloop()
                        
                    else:
                        pass

                
                def log_out_main_game():
                    
                    Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn trở lại màn hình chính?')
                    if Msgbx == 'yes':

                        for widgets in root.winfo_children():
                            widgets.destroy()
                        
                        root.resizable(True, True)
                        root.title('SPACE WAR')
                        
                        root.geometry('1280x720')
                        #bg shop
                        
                        
                        pygame.quit()
                        loading3()
                        bg_img =   PhotoImage(file = 'giaodien.png')
                        limg = Label(root, i = bg_img)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                        
                        root.mainloop()

                
                                
                    else:
                        pass

                

                
                    
                    
            

                def change_password_command():
                    change_password_window = Toplevel(root, height=300, width=400, bg='light gray')
                    change_password_window.title('Đổi mật khẩu')
                    change_password_window.grab_set()
                    
                    # FRAMES FOR CHANGING PASSWORDS
                    change_password_frame = Frame(change_password_window, height=300, width=400, pady=50, padx=50)
                    change_password_frame.pack(side=TOP, expand=YES)

                    class change_password_class:
                        def __init__(self, current_password, new_password, new_password_verify):
                            self.current_password = current_password
                            self.new_password = new_password
                            self.new_password_verify = new_password_verify



                

                    def confirm_password_btn_command():
                        c.execute("SELECT * FROM users WHERE users_id = " + str(result[0]))
                        cpf = c.fetchone()
                        passwords = change_password_class(current_password_entry.get(), new_password_entry.get(), new_password_verify_entry.get())
                        if passwords.current_password == None or passwords.new_password == None or passwords.new_password_verify == None:
                            notif_on_change_password_label.config(text='Xin đừng bỏ trống')
                            messagebox.showwarning('LƯU Ý', 'Xin đừng bỏ trống')
                        elif cpf[2] != passwords.current_password:
                            notif_on_change_password_label.config(text='Mật khẩu hiện tại bạn đã nhập không chính xác')
                            messagebox.showwarning('LƯU Ý', 'Mật khẩu hiện tại bạn đã nhập không chính xác')
                        elif passwords.new_password != passwords.new_password_verify:
                            notif_on_change_password_label.config(text="Mật khẩu mới bạn nhập không khớp")
                            cpMsgbx = messagebox.showwarning('LƯU Ý', "Mật khẩu mới bạn nhập không khớp")
                        #fix loi phat sinh 
                        elif passwords.current_password == passwords.new_password:
                            notif_on_change_password_label.config(text='Mật khẩu mới bạn nhập trùng mật khẩu cũ')
                            cpMsgbx = messagebox.showwarning('LƯU Ý', "Mật khẩu mới bạn nhập trùng mật khẩu cũ")
                        elif passwords.new_password == passwords.new_password_verify:
                            c.execute("UPDATE users SET pword ='" + passwords.new_password + "' WHERE users_id = " + str(result[0]))
                            conn.commit()
                            cpMsgbx = messagebox.showinfo('LƯU Ý', 'Đã thành công thay đổi mật khẩu của bạn!')
                            if cpMsgbx == 'ok':
                                change_password_window.grab_release()
                                change_password_window.destroy()
                        else:
                            pass

                    change_password_label = Label(change_password_frame, text='Đổi mật khẩu', font=('', 25))
                    notif_on_change_password_label = Label(change_password_frame, text='', fg='red')
                    current_password_label = Label(change_password_frame, text='Mật khẩu hiện tại:')
                    new_password_label = Label(change_password_frame, text='Mật khẩu mới:')
                    new_password_verify_label = Label(change_password_frame, text='Xác nhận lại:')
                    current_password_entry = Entry(change_password_frame, width=20)
                    new_password_entry = Entry(change_password_frame, width=20)
                    new_password_verify_entry = Entry(change_password_frame, width=20)
                    confirm_password_btn = Button(change_password_frame, text='Đổi mật khẩu', pady=5, padx=5, bd=3, relief=SUNKEN, command=confirm_password_btn_command)

                    change_password_label.grid(row=0, column=0, columnspan=2)
                    notif_on_change_password_label.grid(row=1, column=0, columnspan=2)
                    current_password_label.grid(row=2, column=0, sticky=W)
                    current_password_entry.grid(row=3, column=0, sticky=W)
                    current_password_entry.config(show='?')
                    new_password_label.grid(row=5, column=0, sticky=W)
                    new_password_entry.grid(row=6, column=0, sticky=W)
                    new_password_entry.config(show='?')
                    new_password_verify_label.grid(row=8, column=0, sticky=W)
                    new_password_verify_entry.grid(row=9, column=0, sticky=W)
                    new_password_verify_entry.config(show='?')
                    confirm_password_btn.grid(row=11, column=0, sticky=W)

                    # CREATING CHECKBOX FOR CHANGE PASSWORDS
                    # Creating a checkbox for current
                    def cp_show_pass_current():
                        if cp_var_current.get() == 1:
                            current_password_entry.config(show='')
                        if cp_var_current.get() == 0:
                            current_password_entry.config(show='?')
                    # Creating a checkbox
                    cp_var_current = IntVar()
                    cp_var_current.set('0')
                    cp_check_current = Checkbutton(change_password_frame, text='Hiện thị mật khẩu', onvalue=1, offvalue=0, variable=cp_var_current, command=cp_show_pass_current, anchor=CENTER)
                    cp_check_current.grid(row=4, column=0, sticky=E)

                    # Creating a checkbox for new
                    def cp_show_pass_new():
                        if cp_var_new.get() == 1:
                            new_password_entry.config(show='')
                        if cp_var_new.get() == 0:
                            new_password_entry.config(show='?')
                    # Creating a checkbox
                    cp_var_new = IntVar()
                    cp_var_new.set('0')
                    cp_check_new = Checkbutton(change_password_frame, text='Hiện thị mật khẩu', onvalue=1, offvalue=0, variable=cp_var_new, command=cp_show_pass_new, anchor=CENTER)
                    cp_check_new.grid(row=7, column=0, sticky=E)

                    # Creating a checkbox for verify new
                    def cp_show_pass_verify_new():
                        if cp_var_verify_new.get() == 1:
                            new_password_verify_entry.config(show='')
                        if cp_var_verify_new.get() == 0:
                            new_password_verify_entry.config(show='?')
                    # Creating a checkbox
                    cp_var_verify_new = IntVar()
                    cp_var_verify_new.set('0')
                    cp_check_verify_new = Checkbutton(change_password_frame, text='Hiện thị mật khẩu', onvalue=1, offvalue=0, variable=cp_var_verify_new, command=cp_show_pass_verify_new, anchor=CENTER)
                    cp_check_verify_new.grid(row=10, column=0, sticky=E)

                def change_username_command():
                    # CHANGE_USERNAME WINDOW
                    change_username_window = Toplevel(root, height=300, width=400, bg='light gray')
                    change_username_window.title('Đổi tên người dùng')
                    change_username_window.grab_set()

                    # CHANGE_USERNAME FRAME
                    change_username_frame = Frame(change_username_window, height=300, width=400, pady=50, padx=50)
                    change_username_frame.pack(side=TOP, expand=YES)

                    def check_username(event=None):
                        global check_username_fetched
                        c.execute("SELECT * FROM users WHERE uname = '" + cu_new_username_entry.get() + "'")
                        check_username_fetched = c.fetchone()
                        if cu_new_username_entry.get() == '':
                            cu_notice.config(text='Xin đừng bỏ trống', fg='red')
                            cu_btn.config(state=DISABLED)
                        elif check_username_fetched == None:
                            cu_notice.config(text='Tên người dùng hợp lệ', fg='green')
                            cu_btn.config(state=ACTIVE)
                        elif check_username_fetched != None:
                            cu_notice.config(text='Tên người dùng đã tồn tại', fg='red')
                            cu_btn.config(state=DISABLED)

                    def cu_btn_command():
                        c.execute("SELECT * FROM users WHERE users_id = " + str(result[0]))
                        cu_validate_current = c.fetchone()
                        if cu_new_username_entry.get() == '' or cu_verify_new_username_entry.get() == '' or cu_current_password_entry.get() == '':
                            messagebox.showwarning('LƯU Ý', 'Xin đừng bỏ trống')
                            cu_notice.config(text='Xin đừng bỏ trống', fg='red')
                        elif cu_new_username_entry.get() != cu_verify_new_username_entry.get():
                            messagebox.showwarning('LƯU Ý', "Tên người dùng nhập không khớp")
                            cu_notice.config(text="Tên người dùng nhập không khớp", fg='red')
                        elif cu_current_password_entry.get() != cu_validate_current[2]:
                            messagebox.showwarning('LƯU Ý', 'Sai mật khẩu!')
                            cu_notice.config(text='Sai mật khẩu!', fg='red')
                        elif cu_new_username_entry.get() == cu_verify_new_username_entry.get():
                           
                            c.execute("UPDATE users SET uname = '" + cu_new_username_entry.get() + "' WHERE users_id = " + str(name_display[0]))
                            conn.commit()
                            c.execute("SELECT * FROM users WHERE users_id = " + str(result[0]))
                            cu_name = c.fetchone()
                            print(cu_name)
                            messagebox.showinfo('LƯU Ý', 'Đã thành công thay đổi tên người dùng!')
                            name_logged_in.config(text=cu_name[1])
                            change_username_window.grab_release()
                            change_username_window.destroy()
                        else:
                            print('this is else')

                    # CHANGE_USERNAME_CONTENT
                    global cu_notice
                    cu_label = Label(change_username_frame, text='Đổi tên người dùng', font=('', 25))
                    cu_notice = Label(change_username_frame, text='')
                    cu_new_username = Label(change_username_frame, text='Đổi tên người dùng mới:')
                    cu_new_username_entry = Entry(change_username_frame, width=20)
                    cu_verify_new_username = Label(change_username_frame, text='Xác nhận lại:')
                    cu_verify_new_username_entry = Entry(change_username_frame, width=20)
                    cu_current_password = Label(change_username_frame, text='Hãy nhập mật khẩu hiện tại:')
                    cu_current_password_entry = Entry(change_username_frame, width=20)
                    cu_btn = Button(change_username_frame, text='Đổi tên người dùng', pady=5, padx=5, command=cu_btn_command)

                    cu_label.grid(row=0, column=0, columnspan=2)
                    cu_notice.grid(row=1, column=0, columnspan=2)
                    cu_new_username.grid(row=2, column=0, sticky=W)
                    cu_new_username_entry.grid(row=3, column=0, sticky=W)
                    cu_verify_new_username.grid(row=4, column=0, sticky=W)
                    cu_verify_new_username_entry.grid(row=5, column=0, sticky=W)
                    cu_current_password.grid(row=6, column=0, sticky=W)
                    cu_current_password_entry.grid(row=7, column=0, sticky=W)
                    cu_current_password_entry.config(show='?')
                    cu_btn.grid(row=9, column=0, sticky=W)

                    cu_verify_new_username_entry.bind('<Button-1>', check_username)
                    cu_new_username_entry.bind('<Tab>', check_username)

                    # Creating a checkbox for verify cu_current_password
                    def cu_show_pass_current():
                        if cu_var_current.get() == 1:
                            cu_current_password_entry.config(show='')
                        if cu_var_current.get() == 0:
                            cu_current_password_entry.config(show='?')
                    # Creating a checkbox
                    cu_var_current = IntVar()
                    cu_var_current.set('0')
                    cu_check_current = Checkbutton(change_username_frame, text='Hiện thị mật khẩu', onvalue=1, offvalue=0, variable=cu_var_current, command=cu_show_pass_current, anchor=CENTER)
                    cu_check_current.grid(row=8, column=0, sticky=E)

                


                
                
                #new
                #new
                def wallet_command():
                    lich_su = []
                    lich_su_label = []
                    root.resizable(True, True)
                    root.title('History')
                    root.geometry('1280x720')
                    history_lbl = Image.open(r'history.png')
                    history_lbl_scale = history_lbl.resize((1280,720))
                    history_lbl_1 = ImageTk.PhotoImage(history_lbl_scale)
                    label_history = tkinter.Label(image=history_lbl_1)
                    label_history.image = history_lbl_1
                    label_history.place(x=0, y=0) 
                    with open("History_official.txt", "r") as file:
                        for i in range(0, 10):
                            lich_su.append(file.readline())
                    for j in range(0, 10):
                        lich_su_label.append(Label(root, text = lich_su[j],width = 43, height = 2,font=('Arial', 17) ,bg = '#DCC7A7'))
                        lich_su_label[j].place(x = 500, y =85+58*j)
                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x =1100, y = 650)
                    root.mainloop()

                
                def instruction_and_rules():
                    root.resizable(True, True)
                    root.title('HƯỚNG DẪN VÀ LUẬT CHƠI')
                    
                    root.geometry('1280x720')
                    #bg shop
                    img = PhotoImage(file = 'hdrule.png')
                    limg = Label(root, i = img)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)

                    root.mainloop()



            
                
                global emotion
                emotion = 'normal'


                def comment():
                    global emotion
                    comment = Tk()
                    comment.title("Thanh Chat")

                    bg_img =   PhotoImage(file = 'giaodien.png')
                    limg = Label(comment, i = bg_img)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                    BG_GRAY = "#ABB2B9"
                    BG_COLOR = "#17202A"
                    TEXT_COLOR = "#EAECEE"

                    FONT = "Helvetica 14"
                    FONT_BOLD = "Helvetica 13 bold"
                    def send():
                        global emotion
                        binh_luan = []
                        neg=0
                        pos=0
                        nol=0
                        def ranname():
                            global name
                            num=random.randint(1,21)
                            if num==1:
                                name="Hòa Phạm"
                            if num==2:
                                name="Trịnh"
                            if num==3:
                                name="Nhật"
                            if num==4:
                                name="Vũ"
                            if num==5:
                                name="Đại Hòa"
                            if num==6:
                                name="An"
                            if num==7:
                                name="Đức Anh"
                            if num==8:
                                name="Bình"
                            if num==9:
                                name="Bảo"
                            if num==10:
                                name="Bích"
                            if num==11:
                                name="Châu"
                            if num==12:
                                name="Chánh"
                            if num==13:
                                name="Đức"
                            if num==14:
                                name="Huy"
                            if num==15:
                                name="Hưng"
                            if num==16:
                                name="Khánh"
                            if num==17:
                                name="Tuấn Khang"
                            if num==18:
                                name="Linh"
                            if num==19:
                                name="Hiền"
                            if num==20:
                                name="Nam"
                            if num==21:
                                name="Nguyên Thảo"
                            
                            return name

                        def rantext():
                            global text
                            num=random.randint(1,22)
                            if num==1:
                                text=='xe gì chạy chậm như rùa'
                            if num==2:
                                text= 'Đua còn thua tao'
                            if num==3:
                                text= 'Thua pha này tao bán nhà'
                            if num==4:
                                text= 'Game này cho 100 điểm cũng không đủ'
                            if num==5:
                                text= 'GGWP'
                            if num==6:
                                text= 'MU vô đối'
                            if num==7:
                                text= 'Tin chuẩn chưa anh?'
                            if num==8:
                                text= 'Phen này nhuộm đỏ trời âu'
                            if num==9:
                                text= 'Trời gần 1h sáng r'
                            if num==10:
                                text= 'xong auto đi ngủ'
                            if num==11:
                                text= 'Chạy gì vụng như thằng Mắc Hài'
                            if num==12:
                                text= 'Trận đó best gánh team'
                            if num==13:
                                text= 'Chúng m thua rồi'
                            if num==14:
                                text= 'Haha thắng rồi'
                            if num==15:
                                text= 'Ban mấy thằng spam đê'
                            if num==16:
                                text= 'Tối nay ae theo kèo VN chấp 0.5 lụm kèo nhé'
                            if num==17:
                                text= 'Lại thua. Chán!'
                            if num==18:
                                text= 'Ơ thằng số 4 vừa hack à??'
                            if num==19:
                                text= 'Ảo thật đấy!'
                            if num==20:
                                text= 'Game hay! Rate 5 sao thôi'
                            if num==21:
                                text= 'Việt Nam vô địch!'
                            if num==22:
                                text= 'Né cup như T1 vậy trời'

                            return text

                        binh_luan.append(e.get())
                        for i in range(0, len(binh_luan)):
                            if str((binh_luan[i])) == "negative":   #con Ai này đc lấy từ mạng nên k thông minh đâu, đầu tiền add bình luận r bấm xác nhận, xong r cứ lặp lại nhiều câu bình luận hơn, đủ nhiều thì tổng kết
                                neg += 1
                            if str((binh_luan[i])) == "positive":
                                pos += 1
                            if str((binh_luan[i])) == "None":
                                nol += 1
                        max_emotion = max(pos, neg, nol)
                        emotion = "normal"
                        if max_emotion == pos:
                            emotion = "cheerful"
                        elif max_emotion == neg:
                            emotion = "sad"
                        elif max_emotion == nol: 
                            emotion = "normal"
                        elif max_emotion == pos and max_emotion == neg:
                            emotion = "normal"
                        elif max_emotion == pos and max_emotion == nol:
                            emotion = "cheerful"
                        elif max_emotion == nol and max_emotion == neg:
                            emotion = "sad"
                        print(emotion)
                        send = "You -> " + e.get()
                        txt.insert(END, "\n" + send)

                        user = e.get().lower()

                        ranname()
                        rantext()

                        txt.insert(END, "\n" + "" + name + " -> " + text)

                        e.delete(0, END)
                        return emotion
                    lable1 = Label(comment, bg=BG_COLOR, fg=TEXT_COLOR, text="Chào mừng đến thanh chat", font=FONT_BOLD, pady=10, width=30, height=1).grid(
                        row=0)

                    txt = Text(comment, bg=BG_COLOR, fg=TEXT_COLOR, font=FONT, width=60)
                    txt.grid(row=1, column=0, columnspan=2)

                    scrollbar = Scrollbar(txt)
                    scrollbar.place(relheight=1, relx=0.974)

                    e = Entry(comment, bg="#2C3E50", fg=TEXT_COLOR, font=FONT, width=55)
                    e.grid(row=2, column=0)

                    send = Button(comment, text="Gửi", font=FONT_BOLD, bg=BG_GRAY,
                                command=send).grid(row=2, column=1)

                    comment.mainloop()

                    








                def gamechinh_11():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK


                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map1.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv0_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(81, 104))

                    nv0_1 = pygame.image.load(r'nv0_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(81, 104))

                    nv0_2 = pygame.image.load(r'nv0_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(81, 104))

                    nv0_3 = pygame.image.load(r'nv0_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(81, 104))

                    nv0_4 = pygame.image.load(r'nv0_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(81, 104))

                    nv0_5 = pygame.image.load(r'nv0_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(81, 104))

                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   

                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))

                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1

                    nv1_x = 30

                    nv1_0 = pygame.image.load(r'nv1_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))

                    nv1_1 = pygame.image.load(r'nv1_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))

                    nv1_2 = pygame.image.load(r'nv1_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))

                    nv1_3 = pygame.image.load(r'nv1_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))

                    nv1_4 = pygame.image.load(r'nv1_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))

                    nv1_5 = pygame.image.load(r'nv1_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))

                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0

                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))

                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)

                    #character 2
                    nv2_x = 30

                    nv2_0 = pygame.image.load(r'nv2_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))

                    nv2_1 = pygame.image.load(r'nv2_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))

                    nv2_2 = pygame.image.load(r'nv2_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))

                    nv2_3 = pygame.image.load(r'nv2_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))

                    nv2_4 = pygame.image.load(r'nv2_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))

                    nv2_5 = pygame.image.load(r'nv2_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))

                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0

                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))

                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)

                    #character 3
                    nv3_x = 30

                    nv3_0 = pygame.image.load(r'nv3_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))

                    nv3_1 = pygame.image.load(r'nv3_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))

                    nv3_2 = pygame.image.load(r'nv3_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))

                    nv3_3 = pygame.image.load(r'nv3_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))

                    nv3_4 = pygame.image.load(r'nv3_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))

                    nv3_5 = pygame.image.load(r'nv3_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))

                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0

                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))

                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)

                    #character 4
                    nv4_x = 30

                    nv4_0 = pygame.image.load(r'nv4_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))

                    nv4_1 = pygame.image.load(r'nv4_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))

                    nv4_2 = pygame.image.load(r'nv4_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))

                    nv4_3 = pygame.image.load(r'nv4_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))

                    nv4_4 = pygame.image.load(r'nv4_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))

                    nv4_5 = pygame.image.load(r'nv4_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))

                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0

                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))

                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass





                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map1.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)

                        for event in pygame.event.get():
                            if event.type == pygame.QUIT:
                                running = False
                        
                            
                        





                    pygame.quit()



                def gamechinh_12():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK



                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)


                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map2.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv0_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(81, 104))

                    nv0_1 = pygame.image.load(r'nv0_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(81, 104))

                    nv0_2 = pygame.image.load(r'nv0_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(81, 104))

                    nv0_3 = pygame.image.load(r'nv0_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(81, 104))

                    nv0_4 = pygame.image.load(r'nv0_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(81, 104))

                    nv0_5 = pygame.image.load(r'nv0_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(81, 104))

                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   

                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))

                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1

                    nv1_x = 30

                    nv1_0 = pygame.image.load(r'nv1_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))

                    nv1_1 = pygame.image.load(r'nv1_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))

                    nv1_2 = pygame.image.load(r'nv1_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))

                    nv1_3 = pygame.image.load(r'nv1_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))

                    nv1_4 = pygame.image.load(r'nv1_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))

                    nv1_5 = pygame.image.load(r'nv1_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))

                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0

                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))

                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)

                    #character 2
                    nv2_x = 30

                    nv2_0 = pygame.image.load(r'nv2_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))

                    nv2_1 = pygame.image.load(r'nv2_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))

                    nv2_2 = pygame.image.load(r'nv2_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))

                    nv2_3 = pygame.image.load(r'nv2_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))

                    nv2_4 = pygame.image.load(r'nv2_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))

                    nv2_5 = pygame.image.load(r'nv2_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))

                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0

                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))

                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)

                    #character 3
                    nv3_x = 30

                    nv3_0 = pygame.image.load(r'nv3_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))

                    nv3_1 = pygame.image.load(r'nv3_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))

                    nv3_2 = pygame.image.load(r'nv3_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))

                    nv3_3 = pygame.image.load(r'nv3_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))

                    nv3_4 = pygame.image.load(r'nv3_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))

                    nv3_5 = pygame.image.load(r'nv3_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))

                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0

                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))

                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)

                    #character 4
                    nv4_x = 30

                    nv4_0 = pygame.image.load(r'nv4_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))

                    nv4_1 = pygame.image.load(r'nv4_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))

                    nv4_2 = pygame.image.load(r'nv4_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))

                    nv4_3 = pygame.image.load(r'nv4_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))

                    nv4_4 = pygame.image.load(r'nv4_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))

                    nv4_5 = pygame.image.load(r'nv4_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))

                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0

                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))

                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map2.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_13():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map3.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv0_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(81, 104))

                    nv0_1 = pygame.image.load(r'nv0_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(81, 104))

                    nv0_2 = pygame.image.load(r'nv0_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(81, 104))

                    nv0_3 = pygame.image.load(r'nv0_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(81, 104))

                    nv0_4 = pygame.image.load(r'nv0_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(81, 104))

                    nv0_5 = pygame.image.load(r'nv0_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(81, 104))

                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   

                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))

                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1

                    nv1_x = 30

                    nv1_0 = pygame.image.load(r'nv1_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))

                    nv1_1 = pygame.image.load(r'nv1_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))

                    nv1_2 = pygame.image.load(r'nv1_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))

                    nv1_3 = pygame.image.load(r'nv1_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))

                    nv1_4 = pygame.image.load(r'nv1_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))

                    nv1_5 = pygame.image.load(r'nv1_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))

                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0

                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))

                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)

                    #character 2
                    nv2_x = 30

                    nv2_0 = pygame.image.load(r'nv2_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))

                    nv2_1 = pygame.image.load(r'nv2_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))

                    nv2_2 = pygame.image.load(r'nv2_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))

                    nv2_3 = pygame.image.load(r'nv2_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))

                    nv2_4 = pygame.image.load(r'nv2_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))

                    nv2_5 = pygame.image.load(r'nv2_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))

                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0

                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))

                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)

                    #character 3
                    nv3_x = 30

                    nv3_0 = pygame.image.load(r'nv3_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))

                    nv3_1 = pygame.image.load(r'nv3_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))

                    nv3_2 = pygame.image.load(r'nv3_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))

                    nv3_3 = pygame.image.load(r'nv3_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))

                    nv3_4 = pygame.image.load(r'nv3_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))

                    nv3_5 = pygame.image.load(r'nv3_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))

                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0

                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))

                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)

                    #character 4
                    nv4_x = 30

                    nv4_0 = pygame.image.load(r'nv4_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))

                    nv4_1 = pygame.image.load(r'nv4_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))

                    nv4_2 = pygame.image.load(r'nv4_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))

                    nv4_3 = pygame.image.load(r'nv4_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))

                    nv4_4 = pygame.image.load(r'nv4_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))

                    nv4_5 = pygame.image.load(r'nv4_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))

                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0

                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))

                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map3.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)


                
                def gamechinh_21():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK


                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map1.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv5_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(104, 81))
                    nv0_1 = pygame.image.load(r'nv5_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(104, 81))
                    nv0_2 = pygame.image.load(r'nv5_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(104, 81))
                    nv0_3 = pygame.image.load(r'nv5_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(104, 81))
                    nv0_4 = pygame.image.load(r'nv5_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(104, 81))
                    nv0_5 = pygame.image.load(r'nv5_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(104, 81))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv6_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv6_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv6_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv6_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv6_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv6_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv7_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv7_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv7_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv7_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv7_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv7_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv8_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv8_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv8_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv8_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv8_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv8_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv9_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv9_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv9_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv9_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv9_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv9_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map1.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)



                def gamechinh_22():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map2.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv5_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(104, 81))
                    nv0_1 = pygame.image.load(r'nv5_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(104, 81))
                    nv0_2 = pygame.image.load(r'nv5_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(104, 81))
                    nv0_3 = pygame.image.load(r'nv5_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(104, 81))
                    nv0_4 = pygame.image.load(r'nv5_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(104, 81))
                    nv0_5 = pygame.image.load(r'nv5_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(104, 81))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv6_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv6_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv6_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv6_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv6_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv6_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv7_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv7_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv7_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv7_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv7_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv7_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv8_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv8_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv8_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv8_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv8_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv8_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv9_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv9_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv9_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv9_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv9_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv9_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map2.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_23():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map3.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv5_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(104, 81))
                    nv0_1 = pygame.image.load(r'nv5_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(104, 81))
                    nv0_2 = pygame.image.load(r'nv5_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(104, 81))
                    nv0_3 = pygame.image.load(r'nv5_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(104, 81))
                    nv0_4 = pygame.image.load(r'nv5_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(104, 81))
                    nv0_5 = pygame.image.load(r'nv5_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(104, 81))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv6_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv6_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv6_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv6_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv6_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv6_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv7_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv7_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv7_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv7_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv7_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv7_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv8_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv8_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv8_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv8_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv8_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv8_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv9_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv9_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv9_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv9_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv9_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv9_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 320
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map3.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 320
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_31():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK


                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map1.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv15_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(108, 117))
                    nv0_1 = pygame.image.load(r'nv15_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(108, 117))
                    nv0_2 = pygame.image.load(r'nv15_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(108, 117))
                    nv0_3 = pygame.image.load(r'nv15_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(108, 117))
                    nv0_4 = pygame.image.load(r'nv15_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(108, 117))
                    nv0_5 = pygame.image.load(r'nv15_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(108, 117))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(208, 208))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv16_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(117, 117))
                    nv1_1 = pygame.image.load(r'nv16_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(117, 117))
                    nv1_2 = pygame.image.load(r'nv16_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(117, 117))
                    nv1_3 = pygame.image.load(r'nv16_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(117, 117))
                    nv1_4 = pygame.image.load(r'nv16_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(117, 117))
                    nv1_5 = pygame.image.load(r'nv16_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(117, 117))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(208, 208))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv17_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(117, 117))
                    nv2_1 = pygame.image.load(r'nv17_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(117, 117))
                    nv2_2 = pygame.image.load(r'nv17_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(117, 117))
                    nv2_3 = pygame.image.load(r'nv17_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(117, 117))
                    nv2_4 = pygame.image.load(r'nv17_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(117, 117))
                    nv2_5 = pygame.image.load(r'nv17_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(117, 117))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(208, 208))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv18_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(108, 117))
                    nv3_1 = pygame.image.load(r'nv18_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(108, 117))
                    nv3_2 = pygame.image.load(r'nv18_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(108, 117))
                    nv3_3 = pygame.image.load(r'nv18_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(108, 117))
                    nv3_4 = pygame.image.load(r'nv18_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(108, 117))
                    nv3_5 = pygame.image.load(r'nv18_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(108, 117))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(208, 208))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv19_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(117, 117))
                    nv4_1 = pygame.image.load(r'nv19_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(117, 117))
                    nv4_2 = pygame.image.load(r'nv19_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(117, 117))
                    nv4_3 = pygame.image.load(r'nv19_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(117, 117))
                    nv4_4 = pygame.image.load(r'nv19_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(117, 117))
                    nv4_5 = pygame.image.load(r'nv19_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(117, 117))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(208, 208))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map1.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)



                def gamechinh_32():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map2.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv15_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(108, 117))
                    nv0_1 = pygame.image.load(r'nv15_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(108, 117))
                    nv0_2 = pygame.image.load(r'nv15_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(108, 117))
                    nv0_3 = pygame.image.load(r'nv15_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(108, 117))
                    nv0_4 = pygame.image.load(r'nv15_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(108, 117))
                    nv0_5 = pygame.image.load(r'nv15_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(108, 117))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(208, 208))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv16_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(117, 117))
                    nv1_1 = pygame.image.load(r'nv16_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(117, 117))
                    nv1_2 = pygame.image.load(r'nv16_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(117, 117))
                    nv1_3 = pygame.image.load(r'nv16_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(117, 117))
                    nv1_4 = pygame.image.load(r'nv16_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(117, 117))
                    nv1_5 = pygame.image.load(r'nv16_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(117, 117))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(208, 208))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv17_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(117, 117))
                    nv2_1 = pygame.image.load(r'nv17_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(117, 117))
                    nv2_2 = pygame.image.load(r'nv17_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(117, 117))
                    nv2_3 = pygame.image.load(r'nv17_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(117, 117))
                    nv2_4 = pygame.image.load(r'nv17_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(117, 117))
                    nv2_5 = pygame.image.load(r'nv17_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(117, 117))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(208, 208))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv18_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(108, 117))
                    nv3_1 = pygame.image.load(r'nv18_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(108, 117))
                    nv3_2 = pygame.image.load(r'nv18_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(108, 117))
                    nv3_3 = pygame.image.load(r'nv18_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(108, 117))
                    nv3_4 = pygame.image.load(r'nv18_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(108, 117))
                    nv3_5 = pygame.image.load(r'nv18_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(108, 117))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(208, 208))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv19_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(117, 117))
                    nv4_1 = pygame.image.load(r'nv19_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(117, 117))
                    nv4_2 = pygame.image.load(r'nv19_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(117, 117))
                    nv4_3 = pygame.image.load(r'nv19_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(117, 117))
                    nv4_4 = pygame.image.load(r'nv19_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(117, 117))
                    nv4_5 = pygame.image.load(r'nv19_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(117, 117))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(208, 208))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map2.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_33():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map3.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv15_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(108, 117))
                    nv0_1 = pygame.image.load(r'nv15_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(108, 117))
                    nv0_2 = pygame.image.load(r'nv15_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(108, 117))
                    nv0_3 = pygame.image.load(r'nv15_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(108, 117))
                    nv0_4 = pygame.image.load(r'nv15_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(108, 117))
                    nv0_5 = pygame.image.load(r'nv15_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(108, 117))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(208, 208))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv16_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(117, 117))
                    nv1_1 = pygame.image.load(r'nv16_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(117, 117))
                    nv1_2 = pygame.image.load(r'nv16_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(117, 117))
                    nv1_3 = pygame.image.load(r'nv16_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(117, 117))
                    nv1_4 = pygame.image.load(r'nv16_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(117, 117))
                    nv1_5 = pygame.image.load(r'nv16_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(117, 117))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(208, 208))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv17_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(117, 117))
                    nv2_1 = pygame.image.load(r'nv17_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(117, 117))
                    nv2_2 = pygame.image.load(r'nv17_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(117, 117))
                    nv2_3 = pygame.image.load(r'nv17_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(117, 117))
                    nv2_4 = pygame.image.load(r'nv17_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(117, 117))
                    nv2_5 = pygame.image.load(r'nv17_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(117, 117))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(208, 208))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv18_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(108, 117))
                    nv3_1 = pygame.image.load(r'nv18_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(108, 117))
                    nv3_2 = pygame.image.load(r'nv18_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(108, 117))
                    nv3_3 = pygame.image.load(r'nv18_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(108, 117))
                    nv3_4 = pygame.image.load(r'nv18_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(108, 117))
                    nv3_5 = pygame.image.load(r'nv18_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(108, 117))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(208, 208))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv19_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(117, 117))
                    nv4_1 = pygame.image.load(r'nv19_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(117, 117))
                    nv4_2 = pygame.image.load(r'nv19_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(117, 117))
                    nv4_3 = pygame.image.load(r'nv19_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(117, 117))
                    nv4_4 = pygame.image.load(r'nv19_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(117, 117))
                    nv4_5 = pygame.image.load(r'nv19_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(117, 117))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(208, 208))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 105
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map3.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)


                def gamechinh_41():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK


                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map1.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv10_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(188, 144))
                    nv0_1 = pygame.image.load(r'nv10_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(188, 144))
                    nv0_2 = pygame.image.load(r'nv10_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(188, 144))
                    nv0_3 = pygame.image.load(r'nv10_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(188, 144))
                    nv0_4 = pygame.image.load(r'nv10_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(188, 144))
                    nv0_5 = pygame.image.load(r'nv10_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(188, 144))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv11_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv11_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv11_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv11_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv11_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv11_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv12_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv12_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv12_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv12_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv12_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv12_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv13_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(148, 104))
                    nv3_1 = pygame.image.load(r'nv13_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(148, 104))
                    nv3_2 = pygame.image.load(r'nv13_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(148, 104))
                    nv3_3 = pygame.image.load(r'nv13_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(148, 104))
                    nv3_4 = pygame.image.load(r'nv13_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(148, 104))
                    nv3_5 = pygame.image.load(r'nv13_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(148, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv14_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv14_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv14_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv14_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv14_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv14_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 65
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map1.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)



                def gamechinh_42():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map2.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    # character 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv10_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(188, 144))
                    nv0_1 = pygame.image.load(r'nv10_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(188, 144))
                    nv0_2 = pygame.image.load(r'nv10_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(188, 144))
                    nv0_3 = pygame.image.load(r'nv10_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(188, 144))
                    nv0_4 = pygame.image.load(r'nv10_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(188, 144))
                    nv0_5 = pygame.image.load(r'nv10_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(188, 144))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv11_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv11_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv11_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv11_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv11_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv11_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv12_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv12_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv12_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv12_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv12_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv12_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv13_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(148, 104))
                    nv3_1 = pygame.image.load(r'nv13_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(148, 104))
                    nv3_2 = pygame.image.load(r'nv13_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(148, 104))
                    nv3_3 = pygame.image.load(r'nv13_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(148, 104))
                    nv3_4 = pygame.image.load(r'nv13_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(148, 104))
                    nv3_5 = pygame.image.load(r'nv13_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(148, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv14_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv14_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv14_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv14_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv14_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv14_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 65
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map2.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_43():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map3.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv10_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(188, 144))
                    nv0_1 = pygame.image.load(r'nv10_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(188, 144))
                    nv0_2 = pygame.image.load(r'nv10_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(188, 144))
                    nv0_3 = pygame.image.load(r'nv10_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(188, 144))
                    nv0_4 = pygame.image.load(r'nv10_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(188, 144))
                    nv0_5 = pygame.image.load(r'nv10_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(188, 144))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv11_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(81, 104))
                    nv1_1 = pygame.image.load(r'nv11_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(81, 104))
                    nv1_2 = pygame.image.load(r'nv11_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(81, 104))
                    nv1_3 = pygame.image.load(r'nv11_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(81, 104))
                    nv1_4 = pygame.image.load(r'nv11_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(81, 104))
                    nv1_5 = pygame.image.load(r'nv11_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(81, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv12_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv12_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv12_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv12_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv12_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv12_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv13_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(148, 104))
                    nv3_1 = pygame.image.load(r'nv13_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(148, 104))
                    nv3_2 = pygame.image.load(r'nv13_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(148, 104))
                    nv3_3 = pygame.image.load(r'nv13_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(148, 104))
                    nv3_4 = pygame.image.load(r'nv13_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(148, 104))
                    nv3_5 = pygame.image.load(r'nv13_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(148, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv14_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv14_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv14_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv14_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv14_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv14_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 65
                    nv1_y = 180
                    nv2_y = 250
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map3.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 105
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 180
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 250
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)
   


                def gamechinh_51():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK


                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map1.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv20_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(120, 104))
                    nv0_1 = pygame.image.load(r'nv20_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(120, 104))
                    nv0_2 = pygame.image.load(r'nv20_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(120, 104))
                    nv0_3 = pygame.image.load(r'nv20_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(120, 104))
                    nv0_4 = pygame.image.load(r'nv20_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(120, 104))
                    nv0_5 = pygame.image.load(r'nv20_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(120, 104))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv21_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(128, 104))
                    nv1_1 = pygame.image.load(r'nv21_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(128, 104))
                    nv1_2 = pygame.image.load(r'nv21_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(128, 104))
                    nv1_3 = pygame.image.load(r'nv21_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(128, 104))
                    nv1_4 = pygame.image.load(r'nv21_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(128, 104))
                    nv1_5 = pygame.image.load(r'nv21_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(128, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv22_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv22_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv22_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv22_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv22_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv22_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv23_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv23_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv23_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv23_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv23_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv23_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv24_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv24_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv24_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv24_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv24_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv24_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 125
                    nv1_y = 200
                    nv2_y = 270
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map1.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 125
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 200
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 270
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)



                def gamechinh_52():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map2.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv20_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(120, 104))
                    nv0_1 = pygame.image.load(r'nv20_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(120, 104))
                    nv0_2 = pygame.image.load(r'nv20_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(120, 104))
                    nv0_3 = pygame.image.load(r'nv20_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(120, 104))
                    nv0_4 = pygame.image.load(r'nv20_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(120, 104))
                    nv0_5 = pygame.image.load(r'nv20_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(120, 104))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv21_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(128, 104))
                    nv1_1 = pygame.image.load(r'nv21_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(128, 104))
                    nv1_2 = pygame.image.load(r'nv21_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(128, 104))
                    nv1_3 = pygame.image.load(r'nv21_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(128, 104))
                    nv1_4 = pygame.image.load(r'nv21_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(128, 104))
                    nv1_5 = pygame.image.load(r'nv21_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(128, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv22_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv22_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv22_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv22_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv22_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv22_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv23_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv23_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv23_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv23_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv23_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv23_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv24_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv24_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv24_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv24_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv24_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv24_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 125
                    nv1_y = 200
                    nv2_y = 270
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map2.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 125
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 200
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 270
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)




                def gamechinh_53():

                    # screen resolution
                    BLACK = (  50,  50,  50 )
                    GREEN = (  34, 139,  34 )
                    click_rect  = pygame.Rect( 780, 5, 150 , 50 )
                    rect_colour = BLACK

                    #text
                    color = (255,255,255)
                    smallfont = pygame.font.SysFont('Corbel',35)
                    text = smallfont.render('Comment' , True , color)

                    #top
                    global top
                    top = [1,2,3,4,5]
                    #import sound
                    nhac = pygame.mixer.Sound('nhac khi dua xe.mp3')
                    nhac.set_volume(0.3)
                    #count down
                    thoigian = 0
                    thoigian_chay = True
                    counting = True
                    count_down = 4
                    game_font = pygame.font.Font('04B_19.TTF', 300)
                    #Background
                    screen=pygame.display.set_mode((1280,640), HWSURFACE | DOUBLEBUF | RESIZABLE)
                    BG=pygame.image.load(r"map3.png")
                    BG=pygame.transform.scale(BG,(1280,640))
                    nv_index = 0
                    # character 0
                    nv0_x = 30
                    nv0_0 = pygame.image.load(r'nv20_0.png')
                    nv0_0 = pygame.transform.scale(nv0_0,(120, 104))
                    nv0_1 = pygame.image.load(r'nv20_1.png')
                    nv0_1 = pygame.transform.scale(nv0_1,(120, 104))
                    nv0_2 = pygame.image.load(r'nv20_2.png')
                    nv0_2 = pygame.transform.scale(nv0_2,(120, 104))
                    nv0_3 = pygame.image.load(r'nv20_3.png')
                    nv0_3 = pygame.transform.scale(nv0_3,(120, 104))
                    nv0_4 = pygame.image.load(r'nv20_4.png')
                    nv0_4 = pygame.transform.scale(nv0_4,(120, 104))
                    nv0_5 = pygame.image.load(r'nv20_5.png')
                    nv0_5 = pygame.transform.scale(nv0_5,(120, 104))
                    nv0_list = [nv0_0, nv0_1, nv0_2, nv0_3, nv0_4, nv0_5 ]
                    nv0_index = 0   
                    nv0 = nv0_list[nv0_index] 
                    nv0_hcn = nv0.get_rect(center=(81,104))
                    nv0_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv0_chay, 38)
                    # character 1
                    nv1_x = 30
                    nv1_0 = pygame.image.load(r'nv21_0.png')
                    nv1_0 = pygame.transform.scale(nv1_0,(128, 104))
                    nv1_1 = pygame.image.load(r'nv21_1.png')
                    nv1_1 = pygame.transform.scale(nv1_1,(128, 104))
                    nv1_2 = pygame.image.load(r'nv21_2.png')
                    nv1_2 = pygame.transform.scale(nv1_2,(128, 104))
                    nv1_3 = pygame.image.load(r'nv21_3.png')
                    nv1_3 = pygame.transform.scale(nv1_3,(128, 104))
                    nv1_4 = pygame.image.load(r'nv21_4.png')
                    nv1_4 = pygame.transform.scale(nv1_4,(128, 104))
                    nv1_5 = pygame.image.load(r'nv21_5.png')
                    nv1_5 = pygame.transform.scale(nv1_5,(128, 104))
                    nv1_list = [nv1_0, nv1_1, nv1_2, nv1_3, nv1_4, nv1_5 ]
                    nv1_index = 0
                    nv1 = nv1_list[nv1_index] 
                    nv1_hcn = nv1.get_rect(center=(81,104))
                    nv1_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv1_chay, 38)
                    #character 2
                    nv2_x = 30
                    nv2_0 = pygame.image.load(r'nv22_0.png')
                    nv2_0 = pygame.transform.scale(nv2_0,(81, 104))
                    nv2_1 = pygame.image.load(r'nv22_1.png')
                    nv2_1 = pygame.transform.scale(nv2_1,(81, 104))
                    nv2_2 = pygame.image.load(r'nv22_2.png')
                    nv2_2 = pygame.transform.scale(nv2_2,(81, 104))
                    nv2_3 = pygame.image.load(r'nv22_3.png')
                    nv2_3 = pygame.transform.scale(nv2_3,(81, 104))
                    nv2_4 = pygame.image.load(r'nv22_4.png')
                    nv2_4 = pygame.transform.scale(nv2_4,(81, 104))
                    nv2_5 = pygame.image.load(r'nv22_5.png')
                    nv2_5 = pygame.transform.scale(nv2_5,(81, 104))
                    nv2_list = [nv2_0, nv2_1, nv2_2, nv2_3, nv2_4, nv2_5 ]
                    nv2_index = 0
                    nv2 = nv2_list[nv2_index] 
                    nv2_hcn = nv2.get_rect(center=(81,104))
                    nv2_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv2_chay, 38)
                    #character 3
                    nv3_x = 30
                    nv3_0 = pygame.image.load(r'nv23_0.png')
                    nv3_0 = pygame.transform.scale(nv3_0,(81, 104))
                    nv3_1 = pygame.image.load(r'nv23_1.png')
                    nv3_1 = pygame.transform.scale(nv3_1,(81, 104))
                    nv3_2 = pygame.image.load(r'nv23_2.png')
                    nv3_2 = pygame.transform.scale(nv3_2,(81, 104))
                    nv3_3 = pygame.image.load(r'nv23_3.png')
                    nv3_3 = pygame.transform.scale(nv3_3,(81, 104))
                    nv3_4 = pygame.image.load(r'nv23_4.png')
                    nv3_4 = pygame.transform.scale(nv3_4,(81, 104))
                    nv3_5 = pygame.image.load(r'nv23_5.png')
                    nv3_5 = pygame.transform.scale(nv3_5,(81, 104))
                    nv3_list = [nv3_0, nv3_1, nv3_2, nv3_3, nv3_4, nv3_5 ]
                    nv3_index = 0
                    nv3 = nv3_list[nv3_index] 
                    nv3_hcn = nv3.get_rect(center=(81,104))
                    nv3_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv3_chay, 38)
                    #character 4
                    nv4_x = 30
                    nv4_0 = pygame.image.load(r'nv24_0.png')
                    nv4_0 = pygame.transform.scale(nv4_0,(81, 104))
                    nv4_1 = pygame.image.load(r'nv24_1.png')
                    nv4_1 = pygame.transform.scale(nv4_1,(81, 104))
                    nv4_2 = pygame.image.load(r'nv24_2.png')
                    nv4_2 = pygame.transform.scale(nv4_2,(81, 104))
                    nv4_3 = pygame.image.load(r'nv24_3.png')
                    nv4_3 = pygame.transform.scale(nv4_3,(81, 104))
                    nv4_4 = pygame.image.load(r'nv24_4.png')
                    nv4_4 = pygame.transform.scale(nv4_4,(81, 104))
                    nv4_5 = pygame.image.load(r'nv24_5.png')
                    nv4_5 = pygame.transform.scale(nv4_5,(81, 104))
                    nv4_list = [nv4_0, nv4_1, nv4_2, nv4_3, nv4_4, nv4_5 ]
                    nv4_index = 0
                    nv4 = nv4_list[nv4_index] 
                    nv4_hcn = nv4.get_rect(center=(81,104))
                    nv4_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv4_chay, 38)

                    #stop
                    stop0 = pygame.transform.scale(pygame.image.load(r'stop0.png'),(120, 120))
                    stop1 = pygame.transform.scale(pygame.image.load(r'stop1.png'),(120, 120))
                    stop2 = pygame.transform.scale(pygame.image.load(r'stop2.png'),(120, 120))
                    stop3 = pygame.transform.scale(pygame.image.load(r'stop3.png'),(120, 120))
                    stop4 = pygame.transform.scale(pygame.image.load(r'stop4.png'),(120, 120))
                    stop5 = pygame.transform.scale(pygame.image.load(r'stop5.png'),(120, 120))
                    stop6 = pygame.transform.scale(pygame.image.load(r'stop6.png'),(120, 120))
                    stop7 = pygame.transform.scale(pygame.image.load(r'stop7.png'),(120, 120))
                    stop8 = pygame.transform.scale(pygame.image.load(r'stop8.png'),(120, 120))
                    stop9 = pygame.transform.scale(pygame.image.load(r'stop9.png'),(120, 120))
                    stop_list = [ stop0, stop1, stop2, stop3, stop4, stop5, stop6, stop7, stop8, stop9]
                    stop_index = 0
                    stop = stop_list[stop_index] 
                    stop_hcn = stop.get_rect(center=(100,100))
                    stop_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(stop_chay, 38)

                    #choang
                    choang0 = pygame.transform.scale(pygame.image.load(r'choang0.png'),(50, 50))
                    choang1 = pygame.transform.scale(pygame.image.load(r'choang1.png'),(50, 50))
                    choang2 = pygame.transform.scale(pygame.image.load(r'choang2.png'),(50, 50))
                    choang3 = pygame.transform.scale(pygame.image.load(r'choang3.png'),(50, 50))
                    choang4 = pygame.transform.scale(pygame.image.load(r'choang4.png'),(50, 50))
                    choang5 = pygame.transform.scale(pygame.image.load(r'choang5.png'),(50, 50))
                    choang_list = [choang0, choang1, choang2, choang3, choang4, choang5]
                    choang_index = 0
                    choang = choang_list[stop_index] 
                    choang_hcn = choang.get_rect(center=(100,100))
                    choang_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(choang_chay, 38)

                    #cong
                    cong0 = pygame.transform.scale(pygame.image.load(r'cong0.png'),(100, 100))
                    cong1 = pygame.transform.scale(pygame.image.load(r'cong1.png'),(100, 100))
                    cong2 = pygame.transform.scale(pygame.image.load(r'cong2.png'),(100, 100))
                    cong3 = pygame.transform.scale(pygame.image.load(r'cong3.png'),(100, 100))
                    cong4 = pygame.transform.scale(pygame.image.load(r'cong4.png'),(100, 100))
                    cong5 = pygame.transform.scale(pygame.image.load(r'cong5.png'),(100, 100))
                    cong6 = pygame.transform.scale(pygame.image.load(r'cong6.png'),(100, 100))
                    cong7 = pygame.transform.scale(pygame.image.load(r'cong7.png'),(100, 100))
                    cong8 = pygame.transform.scale(pygame.image.load(r'cong8.png'),(100, 100))
                    cong_list = [ cong0, cong1, cong2, cong3, cong4, cong5, cong6, cong7, cong8]
                    cong_index = 0
                    cong = cong_list[cong_index] 
                    cong_hcn = stop.get_rect(center=(100,100))
                    cong_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(cong_chay, 38)

                    #toc hanh
                    tochanh0 = pygame.transform.scale(pygame.image.load(r'tochanh0.png'),(100, 100))
                    tochanh1 = pygame.transform.scale(pygame.image.load(r'tochanh1.png'),(100, 100))
                    tochanh2 = pygame.transform.scale(pygame.image.load(r'tochanh2.png'),(100, 100))
                    tochanh3 = pygame.transform.scale(pygame.image.load(r'tochanh3.png'),(100, 100))
                    tochanh4 = pygame.transform.scale(pygame.image.load(r'tochanh4.png'),(100, 100))
                    tochanh5 = pygame.transform.scale(pygame.image.load(r'tochanh5.png'),(100, 100))
                    tochanh6 = pygame.transform.scale(pygame.image.load(r'tochanh6.png'),(100, 100))
                    tochanh7 = pygame.transform.scale(pygame.image.load(r'tochanh7.png'),(100, 100))
                    tochanh8 = pygame.transform.scale(pygame.image.load(r'tochanh8.png'),(100, 100))
                    tochanh9 = pygame.transform.scale(pygame.image.load(r'tochanh9.png'),(100, 100))
                    tochanh_list = [tochanh0, tochanh1, tochanh2, tochanh3, tochanh4, tochanh5, tochanh6, tochanh7, tochanh8, tochanh9]
                    tochanh_index = 0
                    tochanh = tochanh_list[stop_index] 
                    tochanh_hcn = tochanh.get_rect(center=(100,100))
                    tochanh_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(tochanh_chay, 38)

                    #meme win
                    nv_win_x = 30

                    nv_win_0 = pygame.image.load(r'sprite(1).png')
                    nv_win_0 = pygame.transform.scale(nv_win_0,(160, 90))
                    nv_win_1 = pygame.image.load(r'sprite(2).png')
                    nv_win_1 = pygame.transform.scale(nv_win_1,(160, 90))
                    nv_win_2 = pygame.image.load(r'sprite(3).png')
                    nv_win_2 = pygame.transform.scale(nv_win_2,(160, 90))
                    nv_win_3 = pygame.image.load(r'sprite(4).png')
                    nv_win_3 = pygame.transform.scale(nv_win_3,(160, 90))
                    nv_win_4 = pygame.image.load(r'sprite(5).png')
                    nv_win_4 = pygame.transform.scale(nv_win_4,(160, 90))
                    nv_win_5 = pygame.image.load(r'sprite(6).png')
                    nv_win_5 = pygame.transform.scale(nv_win_5,(160, 90))
                    nv_win_6 = pygame.image.load(r'sprite(7).png')
                    nv_win_6 = pygame.transform.scale(nv_win_6,(160, 90))
                    nv_win_7 = pygame.image.load(r'sprite(8).png')
                    nv_win_7 = pygame.transform.scale(nv_win_7,(160, 90))
                    nv_win_8 = pygame.image.load(r'sprite(9).png')
                    nv_win_8 = pygame.transform.scale(nv_win_8,(160, 90))
                    nv_win_9 = pygame.image.load(r'sprite(10).png')
                    nv_win_9 = pygame.transform.scale(nv_win_9,(160, 90))
                    nv_win_10 = pygame.image.load(r'sprite(11).png')
                    nv_win_10 = pygame.transform.scale(nv_win_10,(160, 90))
                    nv_win_11 = pygame.image.load(r'sprite(12).png')
                    nv_win_11 = pygame.transform.scale(nv_win_11,(160, 90))
                    nv_win_12 = pygame.image.load(r'sprite(13).png')
                    nv_win_12 = pygame.transform.scale(nv_win_12,(160, 90))
                    nv_win_13 = pygame.image.load(r'sprite(14).png')
                    nv_win_13 = pygame.transform.scale(nv_win_13,(160, 90))
                    nv_win_14 = pygame.image.load(r'sprite(15).png')
                    nv_win_14 = pygame.transform.scale(nv_win_14,(160, 90))
                    nv_win_15 = pygame.image.load(r'sprite(16).png')
                    nv_win_15 = pygame.transform.scale(nv_win_15,(160, 90))
                    nv_win_16 = pygame.image.load(r'sprite(17).png')
                    nv_win_16 = pygame.transform.scale(nv_win_16,(160, 90))
                    nv_win_17 = pygame.image.load(r'sprite(18).png')
                    nv_win_17 = pygame.transform.scale(nv_win_17,(160, 90))
                    nv_win_18 = pygame.image.load(r'sprite(19).png')
                    nv_win_18 = pygame.transform.scale(nv_win_18,(160, 90))
                    nv_win_19 = pygame.image.load(r'sprite(20).png')
                    nv_win_19 = pygame.transform.scale(nv_win_19,(160, 90))
                    nv_win_20 = pygame.image.load(r'sprite(21).png')
                    nv_win_20 = pygame.transform.scale(nv_win_20,(160, 90))
                    nv_win_21 = pygame.image.load(r'sprite(22).png')
                    nv_win_21 = pygame.transform.scale(nv_win_21,(160, 90))
                    nv_win_22 = pygame.image.load(r'sprite(23).png')
                    nv_win_22 = pygame.transform.scale(nv_win_22,(160, 90))
                    nv_win_23 = pygame.image.load(r'sprite(24).png')
                    nv_win_23 = pygame.transform.scale(nv_win_23,(160, 90))
                    nv_win_24 = pygame.image.load(r'sprite(25).png')
                    nv_win_24 = pygame.transform.scale(nv_win_24,(160, 90))
                    nv_win_25 = pygame.image.load(r'sprite(26).png')
                    nv_win_25 = pygame.transform.scale(nv_win_25,(160, 90))
                    nv_win_26 = pygame.image.load(r'sprite(27).png')
                    nv_win_26 = pygame.transform.scale(nv_win_26,(160, 90))
                    nv_win_27 = pygame.image.load(r'sprite(28).png')
                    nv_win_27 = pygame.transform.scale(nv_win_27,(160, 90))
                    nv_win_28 = pygame.image.load(r'sprite(29).png')
                    nv_win_28 = pygame.transform.scale(nv_win_28,(160, 90))

                    nv_win_list = [nv_win_0, nv_win_1, nv_win_2, nv_win_3, nv_win_4, nv_win_5, nv_win_6, nv_win_7, nv_win_8, nv_win_9, nv_win_10, nv_win_11, nv_win_12, nv_win_13, nv_win_14, nv_win_15, nv_win_16, nv_win_17, nv_win_18, nv_win_19, nv_win_20, nv_win_21, nv_win_22, nv_win_23, nv_win_24, nv_win_25, nv_win_26, nv_win_27, nv_win_28]

                    nv_win_index = 0
                    nv_win = nv_win_list[nv_win_index] 
                    nv_win_hcn = nv_win.get_rect(center=(249,140))
                    nv_win_chay = pygame.USEREVENT + 1
                    pygame.time.set_timer(nv_win_chay, 38)



                    # Bua chu
                    bua0_0 = pygame.image.load(r'bua_random.png') #Bùa quay đầu
                    bua0_0 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_2 = pygame.transform.scale(bua0_0,(50, 50))
                    bua0_3 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_0 = pygame.transform.scale(bua0_0,(50, 50)) 
                    bua1_1 = pygame.transform.scale(bua0_0,(50, 50))
                    bua1_2 = pygame.transform.scale(bua0_0,(50, 50))
                    FPS=60
                    fpsClock = pygame.time.Clock()



                    def ranking():
                        #new
                        global lich_su_array_official
                        lich_su_array = []
                        lich_su_array_official = []
                        nguoi_1_thua = False
                        nguoi_2_thua = False
                        root = Tk()
                        root.resizable(True, True)
                        root.title("Ranking")
                        root.geometry("400x600")
                        def log_out_main_game_moi():
        
                            Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn muốn thoát ra màn hình chính?')
                            if Msgbx == 'yes':
                                pygame.quit()
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                
                                root.resizable(True, True)
                                root.title('RACING GAME')
                                
                                root.geometry('1280x720')
                                #bg shop
                                root.config(bg = 'black')
                                bg_img =   PhotoImage(file = 'giaodien.png')
                                limg = Label(root, i = bg_img)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                
                                
                                # BUTTONS
                                # CHOICES
                                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                shop_btn.place(x = 50, y = 150)

                                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                history_btn.place(x = 50, y = 330)
                                
                                

                                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                logout_btn.place(x = 620, y = 600)

                                

                                def setting():
                                    #Thiết kế tkinter setting
                                    root.resizable(True, True)
                                    root.title('SHOP')
                                    
                                    root.geometry('1280x720')
                                    
                                    #bg setting
                                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                                    limg = Label(root, i = bg_img)
                                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_password_btn.place(x = 600, y = 330)

                                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=root.destroy, font=('', 15))
                                    change_username_btn.place(x = 600, y = 420)

                                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = root.destroy, bg = 'yellow')
                                    back_from_this.place(x = 600, y = 600)

                                        
                                    root.mainloop()



                                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                                


                                
                                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                play_btn.place(x= 460, y = 350)

                                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=root.destroy, font=('', 35))
                                game_btn.place(x = 460, y = 150)

                                

                                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                luat_choi_btn.place(x = 50, y = 510)

                                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=root.destroy, font=('', 15))
                                cot_truyen.place(x = 50, y = 240)

                                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                                setting_btn.place(x = 50, y = 420)
                            
                                
                                root.mainloop()

                                

                        
                                        
                            else:
                                pass




                        #bg
                        bg_ranking = PhotoImage(file="bg_ranking.png")
                        limg = Label(root, i = bg_ranking)
                        limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                        
                        lbl_1 = Label(root, text = "Nhân vật ở làn đua số " + str(top[0]+1), fg = "black", font = ("Arial", 10))
                        lbl_1.place(x = 125,y = 260)
                        
                        lbl_2 = Label(root, text = "Nhân vật ở làn đua số " + str(top[1]+1) , fg = "black", font = ("Arial", 10))
                        lbl_2.place(x = 125, y = 340 )	
                        
                        lbl_3 = Label(root, text = "Nhân vật ở làn đua số " + str(top[2]+1) , fg = "black", font = ("Arial", 10))
                        lbl_3.place(x = 125, y = 410)

                        lbl_emotion = Label(root, text = "Emotion: " + emotion , fg = "black", font = ("Arial", 10))
                        lbl_emotion.place(x = 15, y = 550)

                        btn = Button(root, text = "main menu", command = log_out_main_game_moi)
                        btn.place(x = 320 , y = 550 )

                        f = open("nguoi_1.txt", "r")
                        nguoi_1 = f.readline().strip()
                        if nguoi_1 == str(top[0]+ 1):
                            f = open("data1.txt", "a")
                            f.write(str(300) + "\n")
                            f.close()

                        if nguoi_1 == str(top[1]+ 1) :
                            f = open("data1.txt", "a")
                            f.write(str(100) + "\n")
                            f.close()

                        else: 
                            f = open("data1.txt", "a")
                            f.write(str(-100) + "\n")
                            f.close()
                            nguoi_1_thua = True

                        f.close()
                        g = open("nguoi_2.txt", "r")
                        nguoi_2 = g.readline().strip()

                        print(nguoi_2)
                        print(str(top[0]+ 1))
                        print(str(top[1]+ 1))

                        if nguoi_2 == str(top[0]+ 1):
                            g = open("data1.txt", "a")
                            g.write(str(300) + "\n")
                            g.close()
                        if nguoi_2 == str(top[1]+ 1) :
                            g = open("data1.txt", "a")
                            g.write(str(100) + "\n")
                            g.close()
                        else: 
                            g = open("data1.txt", "a")
                            g.write(str(-100) + "\n")
                            g.close()
                            nguoi_2_thua = True
                        g.close()
                        #new
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và nhận 600 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1                        bet 200                      Win 600 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và top 2 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & TOP 2                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[0]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 1 & LOSE                 bet 200                      Win 200 \n")

                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[0]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và top 1 và nhận 400 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & TOP 1                bet 200                      Win 400 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2 == str(top[1]+ 1) and nguoi_1_thua == False and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2                        bet 200                      Win 200 \n")
                        if nguoi_1 == str(top[1]+ 1) and nguoi_2_thua == True and nguoi_1_thua == False :
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("TOP 2 & LOSE                 bet 200                      Win 0 \n")
                        
                        if nguoi_1_thua == True and nguoi_2 == str(top[0]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 1 và thua 1 nhân vật và nhận 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 1                 bet 200                      Win 200 \n")
                        if nguoi_1_thua == True and nguoi_2 == str(top[1]+ 1) and nguoi_2_thua == False:
                            lbl_tong_ket = Label(root, text = "Bạn được top 2 và thua 1 nhân vật và nhận 0 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE & TOP 2                 bet 200                      Win 0 \n")
                        if nguoi_1_thua == True and nguoi_2_thua == True:
                            lbl_tong_ket = Label(root, text = "Bạn thua và bị trừ 200 tiền thưởng "  , fg = "black", font = ("Arial", 10))
                            lbl_tong_ket.place(x = 10, y = 490)
                            with open("History.txt", "a") as h:
                                h.write("LOSE                         bet 200                      Lose 200 \n")
                        
                        with open("History.txt", "r") as file:                          
                            lines = len(file.readlines())
                        with open("History.txt", "r") as file:
                            for i in range(0, lines):
                                lich_su_array.append(file.readline())	
                        lich_su_array_official = lich_su_array[::-1]
                        with open("History_official.txt", "w") as f: 
                            for i in range(0, 10):
                                f.write(str(lich_su_array_official[i]))
                        root.attributes('-topmost', True)
                        root.mainloop()


                    def random_speed():
                        nv_speed = random.uniform(2, 2.5)
                        return nv_speed
                    def count_down_view():
                        count_down_f = game_font.render(str(int(count_down)),True,(255,255,255))
                        count_down_hcn = count_down_f.get_rect(center=(700,400))
                        screen.blit(count_down_f, count_down_hcn)
                    #def set nv1
                    def chuyen_dong_nv0():
                        nv0_moi = nv0_list[nv0_index]
                        nv0_moi_hcn = nv0_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv0_moi, nv0_moi_hcn
                    def chuyen_dong_nv1():
                        nv1_moi = nv1_list[nv1_index]
                        nv1_moi_hcn = nv1_moi.get_rect(center = (81,nv0_hcn.centery))
                        return nv1_moi, nv1_moi_hcn
                    def chuyen_dong_nv2():
                        nv2_moi = nv2_list[nv2_index]
                        nv2_moi_hcn = nv2_moi.get_rect(center = (81,nv2_hcn.centery))
                        return nv2_moi, nv2_moi_hcn
                    def chuyen_dong_nv3():
                        nv3_moi = nv3_list[nv3_index]
                        nv3_moi_hcn = nv3_moi.get_rect(center = (81,nv3_hcn.centery))
                        return nv3_moi, nv3_moi_hcn
                    def chuyen_dong_nv4():
                        nv4_moi = nv4_list[nv4_index]
                        nv4_moi_hcn = nv4_moi.get_rect(center = (81,nv4_hcn.centery))
                        return nv4_moi, nv4_moi_hcn
                    def chuyen_dong_nv_win():
                        nv_win_moi = nv_win_list[nv_win_index]
                        nv_win_moi_hcn = nv_win_moi.get_rect(center = (81,nv_win_hcn.centery))
                        return nv_win_moi, nv_win_moi_hcn
                    def chuyen_dong_stop():
                        stop_moi = stop_list[stop_index]
                        stop_moi_hcn = stop_moi.get_rect(center = (108,stop_hcn.centery))
                        return stop_moi, stop_moi_hcn
                    def chuyen_dong_tochanh():
                        tochanh_moi = tochanh_list[tochanh_index]
                        tochanh_moi_hcn = tochanh_moi.get_rect(center = (108,tochanh_hcn.centery))
                        return tochanh_moi, tochanh_moi_hcn
                    def chuyen_dong_cong():
                        cong_moi = cong_list[cong_index]
                        cong_moi_hcn = cong_moi.get_rect(center = (108,cong_hcn.centery))
                        return cong_moi, cong_moi_hcn
                    def chuyen_dong_choang():
                        choang_moi = choang_list[choang_index]
                        choang_moi_hcn = choang_moi.get_rect(center = (108,choang_hcn.centery))
                        return choang_moi, choang_moi_hcn
                    #bùa chú
                    def buachu():
                        buachu = [bua0_0, bua0_1, bua0_2, bua1_0, bua1_1, bua1_2]
                        toadobuachu_y = [45,222, 309, 363, 450]
                        buachuxuathien = buachu[random.randint(0,5)]
                        if buachuxuathien == bua1_2 or buachuxuathien == bua0_2:
                            buachuxuathien = buachu[random.randint(0,5)]
                            if buachuxuathien == bua1_2:
                                buachuxuathien = buachu[random.randint(0,5)]
                        buachu_x = random.randint(300, 1000)
                        buachu_y = toadobuachu_y[random.randint(1,4)]
                        return buachuxuathien, buachu_x, buachu_y
                    xh0, buachu_x0, buachu_y0 = buachu()
                    xh1, buachu_x1, buachu_y1 = buachu()
                    xh2, buachu_x2, buachu_y2 = buachu()
                    xh3, buachu_x3, buachu_y3 = buachu()
                    xh4, buachu_x4, buachu_y4 = buachu()
                    xh = [xh0, xh1, xh2, xh3, xh4]
                    tg = [-100, -100, -100, -100, -100]
                    t0 = t1 = t2 = t3 = t4 = -100
                    x0 = x1 = x2 = x3 = x4 = -100
                    y0 = y1 = y2 = y3 = y4 = -50
                    z0 = z1 = z2 = z3 = z4 = -50
                    check0 = True
                    check1 = True
                    check2 = True
                    check3 = True
                    check4 = True
                    running = True
                    gameplay = True
                    time = 0
                    time_nv0 = 0
                    time_nv1 = 0
                    time_nv2 = 0
                    time_nv3 = 0
                    time_nv4 = 0
                    frame_nv0 = 5
                    frame_nv1 = 5
                    frame_nv2 = 5
                    frame_nv3 = 5
                    frame_nv4 = 5
                    nv0_top_1 = False
                    nv1_top_1 = False
                    nv2_top_1 = False
                    nv3_top_1 = False
                    nv4_top_1 = False
                    nv0_y = 125
                    nv1_y = 200
                    nv2_y = 270
                    nv3_y = 350
                    nv4_y = 400

                    (width, height) = (1280,680)

                    screen = pygame.display.set_mode((width, height))

                    BG=pygame.image.load(r"map3.PNG")
                    BG=pygame.transform.scale(BG,(1280,640))

                    pygame.display.set_caption("GAME ĐUA XE CÁ CƯỢC 2 NGƯỜI")



                    while running:
                        #bg
                        screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                        pygame.draw.rect( screen, rect_colour, click_rect)
                        screen.blit(text , (780,5))
                        if gameplay == True:
                            nhac.play()
                            if thoigian_chay == True:
                                thoigian += 1
                                #random 3 lần
                                if (0 < thoigian < 10) or (430 < thoigian < 433) or (860 < thoigian < 866):
                                    nv0_speed = random_speed()
                                    nv1_speed = random_speed()
                                    nv2_speed = random_speed()
                                    nv3_speed = random_speed()
                                    nv4_speed = random_speed()
                                elif thoigian > 1300:
                                    thoigian_chay = False
                            if counting == True:
                                count_down_view()
                                count_down -= 0.03
                                if count_down < 0:
                                    counting = False
                            #count_down
                            if counting == False:
                                #nhan vat
                                if  t0 + 100 < thoigian:
                                    if tg[0]+100 > thoigian:
                                        nv0_x -= nv0_speed
                                        screen.blit(choang,(nv0_x, nv0_y - 10))
                                    else: 
                                        nv0_x += nv0_speed
                                    if x0 + 100 > thoigian:
                                        nv0_speed += 0.01
                                        screen.blit(tochanh,(nv0_x,nv0_y + 5))
                                    if y0 + 50 > thoigian:
                                        screen.blit(cong,(0, nv0_y+5))
                                    if z0 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv0_y))
                                else:
                                    screen.blit(stop,(nv0_x, nv0_y + 10))
                                if tg[0]+100 < thoigian:
                                    screen.blit(nv0,(nv0_x, nv0_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv0, True, False), (nv0_x, nv0_y))

                                if  t1 + 100 < thoigian:
                                    if tg[1]+100 > thoigian:
                                        nv1_x -= nv1_speed
                                        screen.blit(choang,(nv1_x, nv1_y - 10))
                                    else: 
                                        nv1_x += nv1_speed
                                    if x1 + 100 > thoigian:
                                        nv1_speed += 0.01
                                        screen.blit(tochanh,(nv1_x,nv1_y + 5))
                                    if y1 + 50 > thoigian:
                                        screen.blit(cong,(0, nv1_y+5))
                                    if z1 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv1_y))
                                else:
                                    screen.blit(stop,(nv1_x, nv1_y + 10))
                                if tg[1]+100 < thoigian:
                                    screen.blit(nv1,(nv1_x, nv1_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv1, True, False), (nv1_x, nv1_y))

                                if  t2 + 100 < thoigian:
                                    if tg[2]+100 > thoigian:
                                        nv2_x -= nv2_speed
                                        screen.blit(choang,(nv2_x, nv2_y - 10))
                                    else: 
                                        nv2_x += nv2_speed
                                    if x2 + 100 > thoigian:
                                        nv2_speed += 0.01
                                        screen.blit(tochanh,(nv2_x,nv2_y + 5))
                                    if y2 + 50 > thoigian:
                                        screen.blit(cong,(0, nv2_y+5))
                                    if z2 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv2_y))
                                else:
                                    screen.blit(stop,(nv2_x, nv2_y + 10))
                                if tg[2]+100 < thoigian:
                                    screen.blit(nv2,(nv2_x, nv2_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv2, True, False), (nv2_x, nv2_y))

                                if  t3 + 100 < thoigian:
                                    if tg[3]+100 > thoigian:
                                        nv3_x -= nv3_speed
                                        screen.blit(choang,(nv3_x, nv3_y - 10))
                                    else: 
                                        nv3_x += nv3_speed
                                    if x3 + 100 > thoigian:
                                        nv3_speed += 0.01
                                        screen.blit(tochanh,(nv3_x,nv3_y + 5))
                                    if y3 + 50 > thoigian:
                                        screen.blit(cong,(0, nv3_y+5))
                                    if z3 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv3_y))
                                else:
                                    screen.blit(stop,(nv3_x, nv3_y + 10))
                                if tg[3]+100 < thoigian:
                                    screen.blit(nv3,(nv3_x, nv3_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv3, True, False), (nv3_x, nv3_y))

                                if  t4 + 100 < thoigian:
                                    if tg[4]+100 > thoigian:
                                        nv4_x -= nv4_speed
                                        screen.blit(choang,(nv4_x, nv4_y - 10))
                                    else: 
                                        nv4_x += nv4_speed
                                    if x4 + 100 > thoigian:
                                        nv4_speed += 0.01
                                        screen.blit(tochanh,(nv4_x,nv4_y + 5))
                                    if y4 + 50 > thoigian:
                                        screen.blit(cong,(0, nv4_y+5))
                                    if z4 + 50 > thoigian:
                                        screen.blit(cong,(1000, nv4_y))
                                else:
                                    screen.blit(stop,(nv4_x, nv4_y + 10))
                                if tg[4]+100 < thoigian:
                                    screen.blit(nv4,(nv4_x, nv4_y))
                                else:
                                    screen.blit(pygame.transform.flip(nv4, True, False), (nv4_x, nv4_y))
                                
                                if check0 == True: 
                                    screen.blit(xh0, (buachu_x0, 145))
                                if check1 == True: 
                                    screen.blit(xh1, (buachu_x1, 220))
                                if check2 == True: 
                                    screen.blit(xh2, (buachu_x2, 290))
                                if check3 == True: 
                                    screen.blit(xh3, (buachu_x3, 360))
                                if check4 == True: 
                                    screen.blit(xh4, (buachu_x4, 440))

                                if nv0_x >= buachu_x0-2 and nv0_x <= buachu_x0+2 and check0 == True:
                                    if xh0 == bua0_0:
                                        tg[0]=thoigian
                                    if xh0 == bua0_1:
                                        t0 = thoigian
                                    if xh0 == bua0_2:
                                        y0 = thoigian
                                        nv0_x = 0
                                    if xh0 == bua1_0:
                                        nv0_x += 100
                                    if xh0 == bua1_1:
                                        x0 = thoigian
                                    if xh0 == bua1_2:
                                        z0 = thoigian
                                        nv0_x = 1120
                                    check0 = False		

                                if nv1_x >= buachu_x1-2 and nv1_x <= buachu_x1+2 and check1 == True:
                                    if xh1 == bua0_0:
                                        tg[1]=thoigian
                                    if xh1 == bua0_1:
                                        t1 = thoigian
                                    if xh1 == bua0_2:
                                        y1 = thoigian
                                        nv1_x = 0
                                    if xh1 == bua1_0:
                                        nv1_x += 100
                                    if xh1 == bua1_1:
                                        x1 = thoigian
                                    if xh1 == bua1_2:
                                        z1 = thoigian
                                        nv1_x = 1120
                                    check1 = False			
                                if nv2_x >= buachu_x2-2 and nv2_x <= buachu_x2+2 and check2 == True:
                                    if xh2 == bua0_0:
                                        tg[2]=thoigian
                                    if xh2 == bua0_1:
                                        t2 = thoigian
                                    if xh2 == bua0_2:
                                        y2 = thoigian
                                        nv2_x = 0
                                    if xh2 == bua1_0:
                                        nv2_x += 100
                                    if xh2 == bua1_1:
                                        x2 = thoigian
                                    if xh2 == bua1_2:
                                        z2 = thoigian
                                        nv2_x = 1120
                                    check2 = False			
                                if nv3_x >= buachu_x3-2 and nv3_x <= buachu_x3+2 and check3 == True:
                                    if xh3 == bua0_0:
                                        tg[3]=thoigian
                                    if xh3 == bua0_1:
                                        t3 = thoigian
                                    if xh3 == bua0_2:
                                        y3 = thoigian
                                        nv3_x = 0
                                    if xh3 == bua1_0:
                                        nv3_x += 100
                                    if xh3 == bua1_1:
                                        x3 = thoigian
                                    if xh3 == bua1_2:
                                        z3 = thoigian
                                        nv3_x = 1120
                                    check3 = False			
                                if nv4_x >= buachu_x4-2 and nv4_x <= buachu_x4+2 and check4 == True:
                                    if xh4 == bua0_0:
                                        tg[4]=thoigian
                                    if xh4 == bua0_1:
                                        t4 = thoigian
                                    if xh4 == bua0_2:
                                        y4 = thoigian
                                        nv4_x = 0
                                    if xh4 == bua1_0:
                                        nv4_x += 100
                                    if xh4 == bua1_1:
                                        x4 = thoigian
                                    if xh4 == bua1_2:
                                        z4 = thoigian
                                        nv4_x = 1120
                                    check4 = False
                            for event in pygame.event.get():
                                if event.type == pygame.QUIT:
                                        pygame.quit()
                                        sys.exit()
                                if (event.type == pygame.MOUSEBUTTONUP ):
                                    mouse_position = pygame.mouse.get_pos()             
                                    if ( click_rect.collidepoint( mouse_position ) ): 
                                        # Flip the colour of the rect
                                        if ( rect_colour == BLACK ):
                                            rect_colour = GREEN
                                            print( "hit" )
                                            comment()
                                        else:
                                            rect_colour = BLACK

                                        
                                    else:
                                        
                                        print( "click-outside!" )
                                if event.type == nv0_chay:
                                    if nv0_index < frame_nv0:
                                        nv0_index += 1
                                    else:
                                        nv0_index = 0
                                nv0, nv0_hcn = chuyen_dong_nv0()	
                                if event.type == nv1_chay:
                                    if nv1_index < frame_nv1:
                                        nv1_index += 1
                                    else:
                                        nv1_index = 0
                                nv1, nv1_hcn = chuyen_dong_nv1()		
                                if event.type == nv2_chay:
                                    if nv2_index < frame_nv2:
                                        nv2_index += 1
                                    else:
                                        nv2_index = 0
                                nv2, nv2_hcn = chuyen_dong_nv2()
                                if event.type == nv3_chay:
                                    if nv3_index < frame_nv3:
                                        nv3_index += 1
                                    else:
                                        nv3_index = 0
                                nv3, nv3_hcn = chuyen_dong_nv3()

                                if event.type == nv4_chay:
                                    if nv4_index < frame_nv4:
                                        nv4_index += 1
                                    else:
                                        nv4_index = 0
                                nv4, nv4_hcn = chuyen_dong_nv4()

                                if event.type == stop_chay:
                                    if stop_index < 9:
                                        stop_index += 1
                                    else:
                                        stop_index = 0
                                stop, stop_hcn = chuyen_dong_stop()

                                if event.type == choang_chay:
                                    if choang_index < 5:
                                        choang_index += 1
                                    else:
                                        choang_index = 0
                                choang, choang_hcn = chuyen_dong_choang()

                                if event.type == tochanh_chay:
                                    if tochanh_index < 9:
                                        tochanh_index += 1
                                    else:
                                        tochanh_index = 0
                                tochanh, tochanh_hcn = chuyen_dong_tochanh()

                                if event.type == cong_chay:
                                    if cong_index < 8:
                                        cong_index += 1
                                    else:
                                        cong_index = 0
                                cong, cong_hcn = chuyen_dong_cong()
                                
                            if 0 <= nv0_x < 1120:
                                time_nv0 += 1 
                            else:
                                nv0_speed = 0
                                nv0_x = 1120
                                if nv0_x >= 1120 and nv1_x < nv0_x and nv2_x < nv0_x and nv3_x < nv0_x and nv4_x < nv0_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv0_list = nv_win_list
                                    nv0_y = 125
                                    frame_nv0 = 28
                                    nv0_top_1 = True
                                if nv0_top_1 == False:
                                    nv0_index = 0
                            if 0 <= nv1_x < 1120:
                                time_nv1 += 1
                            else: 
                                nv1_x = 1120
                                nv1_speed = 0
                                if nv0_x < nv1_x and nv1_x >= 1120 and nv2_x < nv1_x and nv3_x < nv1_x and nv4_x < nv1_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv1_list = nv_win_list	
                                    nv1_y = 200
                                    frame_nv1 = 28	
                                    nv1_top_1 = True
                                if nv1_top_1 == False:
                                    nv1_index = 0
                            if 0 <= nv2_x < 1120:
                                time_nv2 += 1 
                            else:
                                nv2_x = 1120
                                nv2_speed = 0
                                if nv0_x < nv2_x and nv1_x < nv2_x and nv2_x >= 1120 and nv3_x < nv2_x and nv4_x < nv2_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv2_list = nv_win_list
                                    nv2_y = 270
                                    frame_nv2 = 28	 
                                    nv2_top_1 = True
                                if nv2_top_1 == False:
                                    nv2_index = 0
                            if 0 <= nv3_x < 1120:
                                time_nv3 += 1 
                            else:
                                nv3_x = 1120
                                nv3_speed = 0
                                if nv0_x < nv3_x and nv1_x < nv3_x and nv2_x < nv3_x and nv3_x >= 1120 and nv4_x < nv3_x:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv3_list = nv_win_list
                                    nv3_y = 350
                                    frame_nv3 = 28	
                                    nv3_top_1 = True
                                if nv3_top_1 == False:
                                    nv3_index = 0
                            if 0 <= nv4_x < 1120:
                                time_nv4 += 1 
                            else:
                                nv4_speed = 0
                                nv4_x = 1120
                                if nv0_x < nv4_x and nv1_x < nv4_x and nv2_x < nv4_x and nv3_x < nv4_x and nv4_x >= 1120:
                                    mixer.music.load('winsound.mp3')
                                    mixer.music.play()
                                    mixer.music.set_volume(1)
                                    nv4_list = nv_win_list
                                    nv4_y = 400
                                    frame_nv4 = 28	 
                                    nv4_top_1 = True
                                if nv4_top_1 == False:
                                    nv4_index = 0	 
                            if nv0_speed == 0 and nv1_speed == 0 and nv2_speed == 0 and nv3_speed == 0 and nv4_speed == 0:
                                list_time = [time_nv0, time_nv1, time_nv2, time_nv3, time_nv4]
                                list_time_moi = sorted(list_time)
                                for i in range(0,5):
                                    for j in range(0,5):
                                        if list_time_moi[i] == list_time[j]:
                                                    top[i] = j
                                gameplay = False			
                        else:
                            ranking()

                            
                        pygame.display.update()
                        fpsClock.tick(FPS)


                

                

                def gamephu():
                    
                    
                    
                    
                    

                    canvas_width = 1280
                    canvas_height = 720
                    c = Canvas(root, width=canvas_width, height=canvas_height, background="deep sky blue")
                    c.create_rectangle(-5, canvas_height-100, canvas_width+5, canvas_height+5, fill="sea green", width=0)
                    c.create_oval(-80, -80, 120, 120, fill='orange', width=0)
                    c.pack()

                    color_cycle = cycle(["light blue", "light green", "light pink", "light yellow", "light cyan"])
                    egg_width = 45
                    egg_height = 55
                    egg_score = 10
                    
                    difficulty = 0.95
                    catcher_color = "blue"
                    catcher_width = 100
                    catcher_height = 100
                    catcher_startx = canvas_width / 2 - catcher_width / 2
                    catcher_starty = canvas_height - catcher_height - 20
                    catcher_startx2 = catcher_startx + catcher_width
                    catcher_starty2 = catcher_starty + catcher_height

                    catcher = c.create_arc(catcher_startx, catcher_starty, catcher_startx2, catcher_starty2, start=200, extent=140, style="arc", outline=catcher_color, width=3)
                    game_font = font.nametofont("TkFixedFont")
                    game_font.config(size=18)
                    dictionary = {}
                    dictionary["score"] = 0

                    score_text = c.create_text(10, 10, anchor="nw", font=game_font, fill="darkblue", text="Score: "+ str(dictionary['score']))

                    lives_remaining = 3
                    lives_text = c.create_text(canvas_width-10, 10, anchor="ne", font=game_font, fill="darkblue", text="Lives: "+ str(lives_remaining))

                    eggs = []

                    dictionary["money"] = 0
                    dictionary["lives_remaining"] = 3
                    
                    dictionary["egg_speed"] = 500
                    dictionary["egg_interval"] = 4000


                    def create_egg():
                        x = randrange(10, 740)
                        y = 40
                        new_egg = c.create_oval(x, y, x+egg_width, y+egg_height, fill=next(color_cycle), width=0)
                        eggs.append(new_egg)
                        root.after(dictionary['egg_interval'], create_egg)

                    def move_eggs():
                        for egg in eggs:
                            (eggx, eggy, eggx2, eggy2) = c.coords(egg)
                            c.move(egg, 0, 60)
                            if eggy2 > canvas_height:
                                egg_dropped(egg)
                        root.after(dictionary['egg_speed'], move_eggs)

                    def egg_dropped(egg):
                       
                 
                       
                        eggs.remove(egg)
                        c.delete(egg)
                        lose_a_life()
                        if dictionary['lives_remaining'] == 0:
                            dictionary["money"] = dictionary["score"]
                            messagebox.showinfo("Bạn đã thua!", "Điểm cuối cùng: "+ str(dictionary["score"]) + "\n" + "Bạn được cộng thêm vào ví: " + str(dictionary["money"]))
                            print(dictionary["money"])
                            save_money_to_wallet(dictionary["money"])

                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn thử lại không?")
                            if askmsgbox == 'yes':
                                for widgets in root.winfo_children():
                                    widgets.destroy()
                                root.resizable(True, True)
                                root.title('GAME PHỤ: HỨNG TRỨNG')
                                
                                root.geometry('1280x720')
                                
                                
                                gamephu()
                            else: 
                                logoutshop_command()
                                
                            # Nhap thong tin diem -> quy ra tien -> giao dich vao wallet -> ap dung vao shop
                            
                           
                    
                        

                    def save_money_to_wallet(money):
                        myfile = open("data1.txt", "a")
                        myfile.write(str(money) + "\n")
                        myfile.close()

                   

                        
                        

                    def lose_a_life():
                        dictionary['lives_remaining'] -= 1
                        c.itemconfigure(lives_text, text="Lives: "+ str(dictionary["lives_remaining"]))

                    def check_catch():
                        (catcherx, catchery, catcherx2, catchery2) = c.coords(catcher)
                        for egg in eggs:
                            (eggx, eggy, eggx2, eggy2) = c.coords(egg)
                            if catcherx < eggx and eggx2 < catcherx2 and catchery2 - eggy2 < 40:
                                eggs.remove(egg)
                                c.delete(egg)
                                increase_score(egg_score)
                                
                        root.after(1000, check_catch)

                    def increase_score(points):
                        dictionary['score'] += points
                        egg_speed = int(dictionary["egg_speed"] * difficulty)
                        egg_interval = int(dictionary["egg_interval"] * difficulty)
                        c.itemconfigure(score_text, text="Score: "+ str(dictionary["score"]))

                    def move_left(event):
                        (x1, y1, x2, y2) = c.coords(catcher)
                        if x1 > 0:
                            c.move(catcher, -20, 0)

                    def move_right(event):
                        (x1, y1, x2, y2) = c.coords(catcher)
                        if x2 < canvas_width:
                            c.move(catcher, 20, 0)

                    c.bind("<Left>", move_left)
                    c.bind("<Right>", move_right)
                    c.focus_set()
                    root.after(1000, create_egg)
                    root.after(1000, move_eggs)
                    root.after(1000, check_catch)


                    root.mainloop()

                def play_command():
                    askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn sẵn sàng chơi game phụ chưa nào?")
                    if askmsgbox == 'yes':
                        
                        for widgets in root.winfo_children():
                            widgets.destroy()

                        tong = 0
                        myfile = open("data1.txt", "r")
                        while True:

                            money = myfile.readline()
                                
                            if money != "":
                                tong += int(money)
                                    
                            else: break

                        if tong>0:
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Ví tiền trống rỗng mới có thể chơi game phụ bạn ạ!")
                            if askmsgbox == 'yes':
                                logoutshop_command()
                            else:
                                logoutshop_command()
                        elif tong == 0:
                            root.resizable(True, True)
                            root.title('GAME PHỤ:  HỨNG TRỨNG')
                            
                            root.geometry('1280x720')
                            #bg shop
                            
                            gamephu()
                        
                        elif tong < 0:
                            f = open("data1.txt", "w")
                            f.write(str(0))
                            f.close()
                

                        
                        root.mainloop()
                        
                        
                    else:
                        pass


                def maingame_command():
                    askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn sẽ chọn các map và set nhân vật. Sẵn sàng chưa nào?")
                    if askmsgbox == 'yes':
                        for widgets in root.winfo_children():
                            widgets.destroy()
                        
                        tong = 0
                        myfile = open("data1.txt", "r")
                        while True:

                            money = myfile.readline()
                                
                            if money != "":
                                tong += int(money)
                                    
                            else: break
                        
                        if tong >= 1000:
                            choose_map()

                        if tong < 1000:
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn đang còn ít tiền, nếu số dư âm thì sẽ không chơi tiếp game chính. Hãy chơi game phụ kiếm tiền và trở lại sau nhé!")
                            if askmsgbox == 'yes':
                                choose_map()
                            else: 
                                pass
                        
                        
                       
                        root.mainloop()
                        
                        
                    else:
                        pass
                

                myfile_2 = open("data_mua_set_2.txt", "w")
                myfile_2.write(str(0))
                myfile_2.close()

                myfile_3 = open("data_mua_set_3.txt", "w")
                myfile_3.write(str(0))
                myfile_3.close()

                myfile_4 = open("data_mua_set_4.txt", "w")
                myfile_4.write(str(0))
                myfile_4.close()

                myfile_5 = open("data_mua_set_5.txt", "w")
                myfile_5.write(str(0))
                myfile_5.close()
                
                def choose_set_1():
                    
                    root.resizable(True, True)
                    root.title('CHỌN NHÂN VẬT TRONG SET 1')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    

                    global choose_nv, ten_nv
                    choose_nv = 0
                    ten_nv = ' '

                    def clicked_nv_1():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = True
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 1
                        
                        check_for_hightlight()
                    def clicked_nv_2():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = True
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 2
                        
                        check_for_hightlight()
                    def clicked_nv_3():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = True
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 3
                        
                        check_for_hightlight()
                    def clicked_nv_4():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = True
                        nv5_set1 = False
                        choose_nv = 4
                        
                        check_for_hightlight()
                    def clicked_nv_5():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = True
                        choose_nv = 5
                        
                        check_for_hightlight()
                    def clicked_enter_name():
                        global name, ten_nv
                        ten_nv = str(name.get())
                        if len(ten_nv) == 0:
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 350, y = 50)
                        else:	
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 10, y = 130)	

                            

                    
                    



                        return ten_nv
                    def clicked_play():
                        global name, ten_nv, choose_nv
                        ten_nv = clicked_enter_name()
                        if len(ten_nv) == 0 or choose_nv == 0:

                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 1000, y = 700)
                        else:
                            pass
                    def import_img_nv():
                        img_nv_1 = (Image.open(r'nv0_0.png'))
                        resize_nv_1 = img_nv_1.resize((128,130))
                        img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                        img_nv_2 = (Image.open(r'nv1_0.png'))
                        resize_nv_2 = img_nv_2.resize((128,130))
                        img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                        img_nv_3 = (Image.open(r'nv2_0.png'))
                        resize_nv_3 = img_nv_3.resize((128,130))
                        img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                        img_nv_4 = (Image.open(r'nv3_0.png'))
                        resize_nv_4 = img_nv_4.resize((128,130))
                        img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                        img_nv_5 = (Image.open(r'nv4_0.png'))
                        resize_nv_5 = img_nv_5.resize((128,130))
                        img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                        return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 
                    def button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                        nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                        nv_1.place(x = 82, y = 380)
                        nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                        nv_2.place(x = 328, y = 380)
                        nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                        nv_3.place(x = 574, y = 380)
                        nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                        nv_4.place(x = 820, y = 380)
                        nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                        nv_5.place(x = 1068, y = 380)
                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                        nv1_name.place(x = 88, y = 550)
                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                        nv2_name.place(x = 336, y = 550)
                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                        nv3_name.place(x = 588, y = 550)
                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                        nv4_name.place(x = 830, y = 550)
                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                        nv5_name.place(x = 1078, y = 550)


                    def linh_tinh():
                    

                        
                        

                        def ask_ca_cuoc_2_nguoi_2():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass
                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'nv0_0.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'nv1_0.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'nv2_0.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'nv3_0.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'nv4_0.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 
                                def button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)
                                def linh_tinh():
                                    
                                
                                    
                                        
                                    
                                    def choi_set_1():
                                        root.destroy()
                                        
                                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(1))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(2))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(3))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(4))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(5))
                                            nguoi_2.close()


                                        f = open('chonmap.txt', "r")
                                        map_chon = f.readline()
                                        f.close()

                                        if map_chon == '1':
                                            gamechinh_11()
                                        if map_chon == '2':
                                            gamechinh_12()
                                        if map_chon == '3':
                                            gamechinh_13()

                                        

                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật thứ hai để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'CHƠI', fg = 'black', command = choi_set_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)

                                    
                                
                                        

                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(2) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(3) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(4) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(5) + "\n")
                                        myfile.close()

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()



                        def ask_ca_cuoc_2_nguoi():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                    val4 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    val5 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass


                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'nv0_0.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'nv1_0.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'nv2_0.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'nv3_0.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'nv4_0.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 
                                def button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)

                                    
                                def linh_tinh():
                                

                                    
                                    


                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                    
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật đầu tiên để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'TIẾP TỤC', fg = 'black', command = nhan_nguoi_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)
                                    
                                    
                                def nhan_nguoi_1():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(1))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(2))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(3))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(4))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(5))
                                        nguoi_1.close()
                                

                                    ask_ca_cuoc_2_nguoi_2()
                                    
                                    
                                    
                                


                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val2 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        val3 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        val4 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        val5 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()
                            

                            


                        global name
                        bg_universe = Image.open(r'frameuniverse.png')
                        bg_universe_scale = bg_universe.resize((1280,720))
                        bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                        label_for_bg = tkinter.Label(image=bg_universe1)
                        label_for_bg.image = bg_universe1
                        label_for_bg.place(x=0, y=0) 
                        enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                        enter_name.place(x = 10, y = 90)
                        thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                        thong_bao_1.place(x = 10, y = 5)
                        thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                        thong_bao_2.place(x = 10, y = 175)
                        name = Entry(root, width=25, font=('Arial', 17))
                        name.place(x = 10, y = 50)
                        
                        back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                        back.place(x = 10, y = 705)
                        thong_bao_cuoc_2_nguoi = Label(root, font=('Arial', 17), text = 'Bạn có muốn thử chế độ cá cược 2 người?', bg = '#000116', fg = 'white')
                        thong_bao_cuoc_2_nguoi.place(x = 700, y = 105)
                        yes_btn = Button(root, font=('Arial', 17), text = 'CÓ', fg = 'black', command = ask_ca_cuoc_2_nguoi)
                        yes_btn.place(x = 700, y = 150)
                        no_btn = Button(root, font=('Arial', 17), text = 'KHÔNG', fg = 'black')
                        no_btn.place(x = 900, y = 150)





                        

                        
                    def check_for_hightlight():
                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                            thong_bao_chon_nv1.place(x = 300, y = 175)
                            

                            


                            
                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                            thong_bao_chon_nv2.place(x = 300, y = 175)
                            

                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                            thong_bao_chon_nv3.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                            thong_bao_chon_nv4.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                            
                            nv1_name = Button(root, text = 'Hòa Lê',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Hòa Phạm',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Nhật Tấn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Trịnh Bùi',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Vũ Lê',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                            thong_bao_chon_nv5.place(x = 300, y = 175)
                            

                            

                    linh_tinh()
                    img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                    button_set_1_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)
                    root.mainloop()


                def choose_set_2():
                    
                    root.resizable(True, True)
                    root.title('CHỌN NHÂN VẬT TRONG SET 2')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    

                    global choose_nv, ten_nv
                    choose_nv = 0
                    ten_nv = ' '

                    def clicked_nv_1():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = True
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 1
                        
                        check_for_hightlight()
                    def clicked_nv_2():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = True
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 2
                        
                        check_for_hightlight()
                    def clicked_nv_3():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = True
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 3
                        
                        check_for_hightlight()
                    def clicked_nv_4():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = True
                        nv5_set1 = False
                        choose_nv = 4
                        
                        check_for_hightlight()
                    def clicked_nv_5():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = True
                        choose_nv = 5
                        
                        check_for_hightlight()
                    def clicked_enter_name():
                        global name, ten_nv
                        ten_nv = str(name.get())
                        if len(ten_nv) == 0:
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 350, y = 50)
                        else:	
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 10, y = 130)	

                            

                    
                    



                        return ten_nv
                    def clicked_play():
                        global name, ten_nv, choose_nv
                        ten_nv = clicked_enter_name()
                        if len(ten_nv) == 0 or choose_nv == 0:

                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 1000, y = 700)
                        else:
                            pass
                    def import_img_nv():
                        img_nv_1 = (Image.open(r'nv5_1.png'))
                        resize_nv_1 = img_nv_1.resize((128,130))
                        img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                        img_nv_2 = (Image.open(r'nv6_1.png'))
                        resize_nv_2 = img_nv_2.resize((128,130))
                        img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                        img_nv_3 = (Image.open(r'nv7_0.png'))
                        resize_nv_3 = img_nv_3.resize((128,130))
                        img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                        img_nv_4 = (Image.open(r'nv8_0.png'))
                        resize_nv_4 = img_nv_4.resize((128,130))
                        img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                        img_nv_5 = (Image.open(r'nv9_0.png'))
                        resize_nv_5 = img_nv_5.resize((128,130))
                        img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                        return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                    def button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                        nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                        nv_1.place(x = 82, y = 380)
                        nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                        nv_2.place(x = 328, y = 380)
                        nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                        nv_3.place(x = 574, y = 380)
                        nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                        nv_4.place(x = 820, y = 380)
                        nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                        nv_5.place(x = 1068, y = 380)
                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                        nv1_name.place(x = 88, y = 550)
                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                        nv2_name.place(x = 336, y = 550)
                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                        nv3_name.place(x = 588, y = 550)
                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                        nv4_name.place(x = 830, y = 550)
                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                        nv5_name.place(x = 1078, y = 550)


                    def linh_tinh():
                    

                        
                        

                        def ask_ca_cuoc_2_nguoi_2():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass
                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'nv5_0.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'nv6_0.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'nv7_0.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'nv8_0.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'nv9_0.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 
                                def button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)
                                def linh_tinh():
                                    
                                
                                    
                                    
                                    def choi_set_2():
                                        root.destroy()


                                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(1))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(2))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(3))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(4))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(5))
                                            nguoi_2.close()


                                        f = open('chonmap.txt', "r")
                                        map_chon = f.readline()
                                        
                                        print(map_chon)
                                        if map_chon == '1':
                                            gamechinh_21()
                                        if map_chon == '2':
                                            gamechinh_22()
                                        if map_chon == '3':
                                            gamechinh_23()
                                        
                                        f.close()

                                        g = open("nguoi_2.txt", "r")
                                        nguoi_2 = g.readline().strip()

                                        print(nguoi_2)
                                        print(str(top[0]+ 1))
                                        print(str(top[1]+ 1))

                                        if nguoi_2 == str(top[0]+ 1):
                                            g = open("data1.txt", "a")
                                            g.write(str(300) + "\n")
                                            g.close()
                                        if nguoi_2 == str(top[1]+ 1) :
                                            g = open("data1.txt", "a")
                                            g.write(str(100) + "\n")    
                                            g.close()
                                        else: 
                                            g = open("data1.txt", "a")
                                            g.write(str(-100) + "\n")
                                            g.close()


                                        g.close()

                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật thứ hai để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'CHƠI', fg = 'black', command = choi_set_2, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)

                                    
                                
                                        

                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(2) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(3) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(4) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(5) + "\n")
                                        myfile.close()

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()



                        def ask_ca_cuoc_2_nguoi():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                    val4 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    val5 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass


                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'nv5_1.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'nv6_1.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'nv7_0.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'nv8_0.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'nv9_0.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)

                                    
                                def linh_tinh():
                                

                                    
                                    


                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                    
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật đầu tiên để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'TIẾP TỤC', fg = 'black', command = nhan_nguoi_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)
                                    
                                    
                                def nhan_nguoi_1():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(1))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(2))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(3))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(4))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(5))
                                        nguoi_1.close()
                                

                                    ask_ca_cuoc_2_nguoi_2()
                                    
                                    
                                    
                                


                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val2 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        val3 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        val4 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        val5 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()
                            

                            


                        global name
                        bg_universe = Image.open(r'frameuniverse.png')
                        bg_universe_scale = bg_universe.resize((1280,720))
                        bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                        label_for_bg = tkinter.Label(image=bg_universe1)
                        label_for_bg.image = bg_universe1
                        label_for_bg.place(x=0, y=0) 
                        enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                        enter_name.place(x = 10, y = 90)
                        thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                        thong_bao_1.place(x = 10, y = 5)
                        thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                        thong_bao_2.place(x = 10, y = 175)
                        name = Entry(root, width=25, font=('Arial', 17))
                        name.place(x = 10, y = 50)
                        
                        back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                        back.place(x = 10, y = 705)
                        thong_bao_cuoc_2_nguoi = Label(root, font=('Arial', 17), text = 'Bạn có muốn thử chế độ cá cược 2 người?', bg = '#000116', fg = 'white')
                        thong_bao_cuoc_2_nguoi.place(x = 700, y = 105)
                        yes_btn = Button(root, font=('Arial', 17), text = 'CÓ', fg = 'black', command = ask_ca_cuoc_2_nguoi)
                        yes_btn.place(x = 700, y = 150)
                        no_btn = Button(root, font=('Arial', 17), text = 'KHÔNG', fg = 'black')
                        no_btn.place(x = 900, y = 150)





                        

                        
                    def check_for_hightlight():
                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                            thong_bao_chon_nv1.place(x = 300, y = 175)
                            

                            


                            
                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                            thong_bao_chon_nv2.place(x = 300, y = 175)
                            

                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                            thong_bao_chon_nv3.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                            thong_bao_chon_nv4.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                            
                            nv1_name = Button(root, text = 'Red Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Blue Flame',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Jupiter',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Star',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'The Sun',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                            thong_bao_chon_nv5.place(x = 300, y = 175)
                            

                            

                    linh_tinh()
                    img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                    button_set_2_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)
                    root.mainloop()        
                
                
                def choose_set_3():
                    
                    root.resizable(True, True)
                    root.title('CHỌN NHÂN VẬT TRONG SET 3')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    

                    global choose_nv, ten_nv
                    choose_nv = 0
                    ten_nv = ' '

                    def clicked_nv_1():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = True
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 1
                        
                        check_for_hightlight()
                    def clicked_nv_2():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = True
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 2
                        
                        check_for_hightlight()
                    def clicked_nv_3():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = True
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 3
                        
                        check_for_hightlight()
                    def clicked_nv_4():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = True
                        nv5_set1 = False
                        choose_nv = 4
                        
                        check_for_hightlight()
                    def clicked_nv_5():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = True
                        choose_nv = 5
                        
                        check_for_hightlight()
                    def clicked_enter_name():
                        global name, ten_nv
                        ten_nv = str(name.get())
                        if len(ten_nv) == 0:
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 350, y = 50)
                        else:	
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 10, y = 130)	

                            

                    
                    



                        return ten_nv
                    def clicked_play():
                        global name, ten_nv, choose_nv
                        ten_nv = clicked_enter_name()
                        if len(ten_nv) == 0 or choose_nv == 0:

                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 1000, y = 700)
                        else:
                            pass
                    def import_img_nv():
                        img_nv_1 = (Image.open(r'ong.png'))
                        resize_nv_1 = img_nv_1.resize((128,130))
                        img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                        img_nv_2 = (Image.open(r'buom.png'))
                        resize_nv_2 = img_nv_2.resize((128,130))
                        img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                        img_nv_3 = (Image.open(r'chuot.png'))
                        resize_nv_3 = img_nv_3.resize((128,130))
                        img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                        img_nv_4 = (Image.open(r'sau.png'))
                        resize_nv_4 = img_nv_4.resize((128,130))
                        img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                        img_nv_5 = (Image.open(r'vit.png'))
                        resize_nv_5 = img_nv_5.resize((128,130))
                        img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                        return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5  

                    def button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                        nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                        nv_1.place(x = 82, y = 380)
                        nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                        nv_2.place(x = 328, y = 380)
                        nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                        nv_3.place(x = 574, y = 380)
                        nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                        nv_4.place(x = 820, y = 380)
                        nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                        nv_5.place(x = 1068, y = 380)
                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                        nv1_name.place(x = 88, y = 550)
                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                        nv2_name.place(x = 336, y = 550)
                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                        nv3_name.place(x = 588, y = 550)
                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                        nv4_name.place(x = 830, y = 550)
                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                        nv5_name.place(x = 1078, y = 550)


                    def linh_tinh():
                    

                        
                        

                        def ask_ca_cuoc_2_nguoi_2():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass
                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'ong.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'buom.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'chuot.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'sau.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'vit.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5  
                                def button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)
                                def linh_tinh():
                                    
                                
                                    
                                        
                                    
                                    def choi_set_3():

                                        root.destroy()
                                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(1))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(2))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(3))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(4))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(5))
                                            nguoi_2.close()


                                        f = open('chonmap.txt', "r")
                                        map_chon = f.readline()
                                        
                                        print(map_chon)
                                        if map_chon == '1':
                                            gamechinh_31()
                                        if map_chon == '2':
                                            gamechinh_32()
                                        if map_chon == '3':
                                            gamechinh_33()
                                        
                                        f.close()

                                        g = open("nguoi_2.txt", "r")
                                        nguoi_2 = g.readline().strip()

                                        print(nguoi_2)
                                        print(str(top[0]+ 1))
                                        print(str(top[1]+ 1))

                                        if nguoi_2 == str(top[0]+ 1):
                                            g = open("data1.txt", "a")
                                            g.write(str(300) + "\n")
                                            g.close()
                                        if nguoi_2 == str(top[1]+ 1) :
                                            g = open("data1.txt", "a")
                                            g.write(str(100) + "\n")    
                                            g.close()
                                        else: 
                                            g = open("data1.txt", "a")
                                            g.write(str(-100) + "\n")
                                            g.close()


                                        g.close()

                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật thứ hai để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'CHƠI', fg = 'black', command = choi_set_3, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)

                                    
                                
                                        

                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(2) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(3) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(4) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(5) + "\n")
                                        myfile.close()

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()



                        def ask_ca_cuoc_2_nguoi():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                    val4 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    val5 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass


                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'ong.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'buom.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'chuot.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'sau.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'vit.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)

                                    
                                def linh_tinh():
                                

                                    
                                    

                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                    
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật đầu tiên để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'TIẾP TỤC', fg = 'black', command = nhan_nguoi_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)
                                    
                                    
                                def nhan_nguoi_1():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(1))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(2))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(3))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(4))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(5))
                                        nguoi_1.close()
                                

                                    ask_ca_cuoc_2_nguoi_2()
                                    
                                    
                                    
                                


                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val2 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        val3 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        val4 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        val5 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()
                            

                            


                        global name
                        bg_universe = Image.open(r'frameuniverse.png')
                        bg_universe_scale = bg_universe.resize((1280,720))
                        bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                        label_for_bg = tkinter.Label(image=bg_universe1)
                        label_for_bg.image = bg_universe1
                        label_for_bg.place(x=0, y=0) 
                        enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                        enter_name.place(x = 10, y = 90)
                        thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                        thong_bao_1.place(x = 10, y = 5)
                        thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                        thong_bao_2.place(x = 10, y = 175)
                        name = Entry(root, width=25, font=('Arial', 17))
                        name.place(x = 10, y = 50)
                        
                        back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                        back.place(x = 10, y = 705)
                        thong_bao_cuoc_2_nguoi = Label(root, font=('Arial', 17), text = 'Bạn có muốn thử chế độ cá cược 2 người?', bg = '#000116', fg = 'white')
                        thong_bao_cuoc_2_nguoi.place(x = 700, y = 105)
                        yes_btn = Button(root, font=('Arial', 17), text = 'CÓ', fg = 'black', command = ask_ca_cuoc_2_nguoi)
                        yes_btn.place(x = 700, y = 150)
                        no_btn = Button(root, font=('Arial', 17), text = 'KHÔNG', fg = 'black')
                        no_btn.place(x = 900, y = 150)





                        

                        
                    def check_for_hightlight():
                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                            thong_bao_chon_nv1.place(x = 300, y = 175)
                            

                            


                            
                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                            thong_bao_chon_nv2.place(x = 300, y = 175)
                            

                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                            thong_bao_chon_nv3.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                            thong_bao_chon_nv4.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                            
                            nv1_name = Button(root, text = 'Bee',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Butterfly',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Mouse',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Caterpillar',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Duck',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                            thong_bao_chon_nv5.place(x = 300, y = 175)
                            

                            

                    linh_tinh()
                    img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                    button_set_3_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)
                    root.mainloop()  


                def choose_set_4():
                    
                    root.resizable(True, True)
                    root.title('CHỌN NHÂN VẬT TRONG SET 4')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    

                    global choose_nv, ten_nv
                    choose_nv = 0
                    ten_nv = ' '

                    def clicked_nv_1():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = True
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 1
                        
                        check_for_hightlight()
                    def clicked_nv_2():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = True
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 2
                        
                        check_for_hightlight()
                    def clicked_nv_3():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = True
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 3
                        
                        check_for_hightlight()
                    def clicked_nv_4():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = True
                        nv5_set1 = False
                        choose_nv = 4
                        
                        check_for_hightlight()
                    def clicked_nv_5():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = True
                        choose_nv = 5
                        
                        check_for_hightlight()
                    def clicked_enter_name():
                        global name, ten_nv
                        ten_nv = str(name.get())
                        if len(ten_nv) == 0:
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 350, y = 50)
                        else:	
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 10, y = 130)	

                            

                    
                    



                        return ten_nv
                    def clicked_play():
                        global name, ten_nv, choose_nv
                        ten_nv = clicked_enter_name()
                        if len(ten_nv) == 0 or choose_nv == 0:

                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 1000, y = 700)
                        else:
                            pass
                    def import_img_nv():
                        img_nv_1 = (Image.open(r'hiepsilon.png'))
                        resize_nv_1 = img_nv_1.resize((128,130))
                        img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                        img_nv_2 = (Image.open(r'binhlinh.png'))
                        resize_nv_2 = img_nv_2.resize((128,130))
                        img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                        img_nv_3 = (Image.open(r'liberty.png'))
                        resize_nv_3 = img_nv_3.resize((128,130))
                        img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                        img_nv_4 = (Image.open(r'robot.png'))
                        resize_nv_4 = img_nv_4.resize((128,130))
                        img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                        img_nv_5 = (Image.open(r'phuthuy.png'))
                        resize_nv_5 = img_nv_5.resize((128,130))
                        img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                        return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                    def button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                        nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                        nv_1.place(x = 82, y = 380)
                        nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                        nv_2.place(x = 328, y = 380)
                        nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                        nv_3.place(x = 574, y = 380)
                        nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                        nv_4.place(x = 820, y = 380)
                        nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                        nv_5.place(x = 1068, y = 380)
                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                        nv1_name.place(x = 88, y = 550)
                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                        nv2_name.place(x = 336, y = 550)
                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                        nv3_name.place(x = 588, y = 550)
                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                        nv4_name.place(x = 830, y = 550)
                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                        nv5_name.place(x = 1078, y = 550)


                    def linh_tinh():
                    

                        
                        
                        def ask_ca_cuoc_2_nguoi_2():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass
                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'hiepsilon.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'binhlinh.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'liberty.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'robot.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'phuthuy.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)
                                def linh_tinh():
                                    
                                
                                    
                                        
                                    
                                    def choi_set_4():

                                        root.destroy()
                                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(1))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(2))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(3))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(4))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(5))
                                            nguoi_2.close()


                                        f = open('chonmap.txt', "r")
                                        map_chon = f.readline()
                                        
                                        print(map_chon)
                                        if map_chon == '1':
                                            gamechinh_41()
                                        if map_chon == '2':
                                            gamechinh_42()
                                        if map_chon == '3':
                                            gamechinh_43()
                                        
                                        f.close()

                                        g = open("nguoi_2.txt", "r")
                                        nguoi_2 = g.readline().strip()

                                        print(nguoi_2)
                                        print(str(top[0]+ 1))
                                        print(str(top[1]+ 1))

                                        if nguoi_2 == str(top[0]+ 1):
                                            g = open("data1.txt", "a")
                                            g.write(str(300) + "\n")
                                            g.close()
                                        if nguoi_2 == str(top[1]+ 1) :
                                            g = open("data1.txt", "a")
                                            g.write(str(100) + "\n")    
                                            g.close()
                                        else: 
                                            g = open("data1.txt", "a")
                                            g.write(str(-100) + "\n")
                                            g.close()


                                        g.close()

                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật thứ hai để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'CHƠI', fg = 'black', command = choi_set_4, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)

                                    
                                
                                        

                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(2) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(3) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(4) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(5) + "\n")
                                        myfile.close()

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()



                        def ask_ca_cuoc_2_nguoi():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                    val4 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    val5 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass


                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'hiepsilon.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'binhlinh.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'liberty.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'robot.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'phuthuy.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)

                                    
                                def linh_tinh():
                                

                                    
                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                    
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật đầu tiên để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'TIẾP TỤC', fg = 'black', command = nhan_nguoi_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)
                                    
                                    
                                def nhan_nguoi_1():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(1))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(2))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(3))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(4))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(5))
                                        nguoi_1.close()
                                

                                    ask_ca_cuoc_2_nguoi_2()
                                    
                                    
                                    
                                


                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val2 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        val3 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        val4 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        val5 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()
                            

                            


                        global name
                        bg_universe = Image.open(r'frameuniverse.png')
                        bg_universe_scale = bg_universe.resize((1280,720))
                        bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                        label_for_bg = tkinter.Label(image=bg_universe1)
                        label_for_bg.image = bg_universe1
                        label_for_bg.place(x=0, y=0) 
                        enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                        enter_name.place(x = 10, y = 90)
                        thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                        thong_bao_1.place(x = 10, y = 5)
                        thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                        thong_bao_2.place(x = 10, y = 175)
                        name = Entry(root, width=25, font=('Arial', 17))
                        name.place(x = 10, y = 50)
                        
                        back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                        back.place(x = 10, y = 705)
                        thong_bao_cuoc_2_nguoi = Label(root, font=('Arial', 17), text = 'Bạn có muốn thử chế độ cá cược 2 người?', bg = '#000116', fg = 'white')
                        thong_bao_cuoc_2_nguoi.place(x = 700, y = 105)
                        yes_btn = Button(root, font=('Arial', 17), text = 'CÓ', fg = 'black', command = ask_ca_cuoc_2_nguoi)
                        yes_btn.place(x = 700, y = 150)
                        no_btn = Button(root, font=('Arial', 17), text = 'KHÔNG', fg = 'black')
                        no_btn.place(x = 900, y = 150)





                        

                        
                    def check_for_hightlight():
                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                            thong_bao_chon_nv1.place(x = 300, y = 175)
                            

                            


                            
                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                            thong_bao_chon_nv2.place(x = 300, y = 175)
                            

                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                            thong_bao_chon_nv3.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                            thong_bao_chon_nv4.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                            
                            nv1_name = Button(root, text = 'Pig-Knight',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Soldier',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Liberty',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Robot',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Sorcerer',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                            thong_bao_chon_nv5.place(x = 300, y = 175)
                            

                            

                    linh_tinh()
                    img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                    button_set_4_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)
                    root.mainloop()  



                def choose_set_5():
                    
                    root.resizable(True, True)
                    root.title('CHỌN NHÂN VẬT TRONG SET 5')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    

                    global choose_nv, ten_nv
                    choose_nv = 0
                    ten_nv = ' '

                    def clicked_nv_1():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = True
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 1
                        
                        check_for_hightlight()
                    def clicked_nv_2():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = True
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 2
                        
                        check_for_hightlight()
                    def clicked_nv_3():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = True
                        nv4_set1 = False
                        nv5_set1 = False
                        choose_nv = 3
                        
                        check_for_hightlight()
                    def clicked_nv_4():
                    
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = True
                        nv5_set1 = False
                        choose_nv = 4
                        
                        check_for_hightlight()
                    def clicked_nv_5():
                        
                        global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                        nv1_set1 = False
                        nv2_set1 = False
                        nv3_set1 = False
                        nv4_set1 = False
                        nv5_set1 = True
                        choose_nv = 5
                        
                        check_for_hightlight()
                    def clicked_enter_name():
                        global name, ten_nv
                        ten_nv = str(name.get())
                        if len(ten_nv) == 0:
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 350, y = 50)
                        else:	
                            thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                            thong_bao_name.place(x = 10, y = 130)	

                            

                    
                    



                        return ten_nv
                    def clicked_play():
                        global name, ten_nv, choose_nv
                        ten_nv = clicked_enter_name()
                        if len(ten_nv) == 0 or choose_nv == 0:

                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 1000, y = 700)
                        else:
                            pass
                    def import_img_nv():
                        img_nv_1 = (Image.open(r'shampoo.png'))
                        resize_nv_1 = img_nv_1.resize((128,130))
                        img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                        img_nv_2 = (Image.open(r'dragon.png'))
                        resize_nv_2 = img_nv_2.resize((128,130))
                        img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                        img_nv_3 = (Image.open(r'ghost.png'))
                        resize_nv_3 = img_nv_3.resize((128,130))
                        img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                        img_nv_4 = (Image.open(r'unicorn.png'))
                        resize_nv_4 = img_nv_4.resize((128,130))
                        img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                        img_nv_5 = (Image.open(r'tinkerbell.png'))
                        resize_nv_5 = img_nv_5.resize((128,130))
                        img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                        return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                    def button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                        nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                        nv_1.place(x = 82, y = 380)
                        nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                        nv_2.place(x = 328, y = 380)
                        nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                        nv_3.place(x = 574, y = 380)
                        nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                        nv_4.place(x = 820, y = 380)
                        nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                        nv_5.place(x = 1068, y = 380)
                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                        nv1_name.place(x = 88, y = 550)
                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                        nv2_name.place(x = 336, y = 550)
                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                        nv3_name.place(x = 588, y = 550)
                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                        nv4_name.place(x = 830, y = 550)
                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                        nv5_name.place(x = 1078, y = 550)


                    def linh_tinh():
                    

                        
                        

                        def ask_ca_cuoc_2_nguoi_2():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass
                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'shampoo.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'dragon.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'ghost.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'unicorn.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'tinkerbell.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)
                                def linh_tinh():
                                    
                                
                                    
                                        
                                    
                                    def choi_set_5():

                                        root.destroy()
                                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(1))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(2))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(3))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(4))
                                            nguoi_2.close()

                                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                            nguoi_2 = open("nguoi_2.txt", "w")
                                            nguoi_2.write(str(5))
                                            nguoi_2.close()


                                        f = open('chonmap.txt', "r")
                                        map_chon = f.readline()
                                        
                                        print(map_chon)
                                        if map_chon == '1':
                                            gamechinh_51()
                                        if map_chon == '2':
                                            gamechinh_52()
                                        if map_chon == '3':
                                            gamechinh_53()
                                        
                                        f.close()

                                        g = open("nguoi_2.txt", "r")
                                        nguoi_2 = g.readline().strip()

                                        print(nguoi_2)
                                        print(str(top[0]+ 1))
                                        print(str(top[1]+ 1))

                                        if nguoi_2 == str(top[0]+ 1):
                                            g = open("data1.txt", "a")
                                            g.write(str(300) + "\n")
                                            g.close()
                                        if nguoi_2 == str(top[1]+ 1) :
                                            g = open("data1.txt", "a")
                                            g.write(str(100) + "\n")    
                                            g.close()
                                        else: 
                                            g = open("data1.txt", "a")
                                            g.write(str(-100) + "\n")
                                            g.close()


                                        g.close()

                                    
                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật thứ hai để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'CHƠI', fg = 'black', command = choi_set_5, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)

                                    
                                
                                        

                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(2) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(3) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(4) + "\n")
                                        myfile.close()

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        
                                        myfile = open("data_winner.txt", "w")
                                        myfile.write( str(5) + "\n")
                                        myfile.close()

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()



                        def ask_ca_cuoc_2_nguoi():
                            askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn có muốn tiếp tục chế độ cá cược 2 người?")
                            if askmsgbox == 'yes':
                                root.resizable(True, True)
                                root.title('CHỌN NHÂN VẬT TRONG SET 1')
                                
                                root.geometry('1280x720')
                                #bg shop
                                bgimg = PhotoImage(file = 'choosemap.png')
                                
                                
                                limg = Label(root, i = bgimg)
                                limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                                

                                global choose_nv, ten_nv
                                choose_nv = 0
                                ten_nv = ' '

                                def clicked_nv_1():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = True
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 1
                                    
                                    check_for_hightlight()
                                def clicked_nv_2():
                                
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = True
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 2
                                    
                                    check_for_hightlight()
                                def clicked_nv_3():
                                    
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = True
                                    nv4_set1 = False
                                    nv5_set1 = False
                                    choose_nv = 3
                                    
                                    check_for_hightlight()
                                def clicked_nv_4():
                                    val4 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = True
                                    nv5_set1 = False
                                    choose_nv = 4
                                    
                                    check_for_hightlight()
                                def clicked_nv_5():
                                    val5 = random.randint(2, 8)
                                    global choose_nv, nv1_set1, nv2_set1, nv3_set1, nv4_set1, nv5_set1
                                    nv1_set1 = False
                                    nv2_set1 = False
                                    nv3_set1 = False
                                    nv4_set1 = False
                                    nv5_set1 = True
                                    choose_nv = 5
                                    
                                    check_for_hightlight()
                                def clicked_enter_name():
                                    global name, ten_nv
                                    ten_nv = str(name.get())
                                    if len(ten_nv) == 0:
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Bạn chưa đặt tên cho nhân vật!' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 350, y = 50)
                                    else:	
                                        thong_bao_name = Label(root, font=('Arial', 17), text = 'Tên của nhân vật là: ' + ten_nv, bg = '#000116', fg = 'red')
                                        thong_bao_name.place(x = 10, y = 130)	

                                        

                                
                                



                                    return ten_nv
                                def clicked_play():
                                    global name, ten_nv, choose_nv
                                    ten_nv = clicked_enter_name()
                                    if len(ten_nv) == 0 or choose_nv == 0:

                                        thong_bao = Label(root, font = ('Arial',15), text = 'Bạn phải chọn một nhân vật!', fg ='red', bg = '#000116')
                                        thong_bao.place(x = 1000, y = 700)
                                    else:
                                        pass


                                def import_img_nv():
                                    img_nv_1 = (Image.open(r'shampoo.png'))
                                    resize_nv_1 = img_nv_1.resize((128,130))
                                    img_new_nv_1 = ImageTk.PhotoImage(resize_nv_1)
                                    img_nv_2 = (Image.open(r'dragon.png'))
                                    resize_nv_2 = img_nv_2.resize((128,130))
                                    img_new_nv_2 = ImageTk.PhotoImage(resize_nv_2)
                                    img_nv_3 = (Image.open(r'ghost.png'))
                                    resize_nv_3 = img_nv_3.resize((128,130))
                                    img_new_nv_3 = ImageTk.PhotoImage(resize_nv_3)
                                    img_nv_4 = (Image.open(r'unicorn.png'))
                                    resize_nv_4 = img_nv_4.resize((128,130))
                                    img_new_nv_4 = ImageTk.PhotoImage(resize_nv_4)
                                    img_nv_5 = (Image.open(r'tinkerbell.png'))
                                    resize_nv_5 = img_nv_5.resize((128,130))
                                    img_new_nv_5 = ImageTk.PhotoImage(resize_nv_5)
                                    return img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 

                                def button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 ):
                                    nv_1 = Button(root, text = '', image = img_new_nv_1, command = clicked_nv_1)
                                    nv_1.place(x = 82, y = 380)
                                    nv_2 = Button(root, text = '', image = img_new_nv_2, command = clicked_nv_2)
                                    nv_2.place(x = 328, y = 380)
                                    nv_3 = Button(root, text = '', image = img_new_nv_3, command = clicked_nv_3)
                                    nv_3.place(x = 574, y = 380)
                                    nv_4 = Button(root, text = '', image = img_new_nv_4, command = clicked_nv_4)
                                    nv_4.place(x = 820, y = 380)
                                    nv_5 = Button(root, text = '', image = img_new_nv_5, command = clicked_nv_5)
                                    nv_5.place(x = 1068, y = 380)
                                    nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                    nv1_name.place(x = 88, y = 550)
                                    nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                    nv2_name.place(x = 336, y = 550)
                                    nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                    nv3_name.place(x = 588, y = 550)
                                    nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                    nv4_name.place(x = 830, y = 550)
                                    nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                    nv5_name.place(x = 1078, y = 550)

                                    
                                def linh_tinh():
                                

                                    
                                    


                                    global name
                                    bg_universe = Image.open(r'frameuniverse.png')
                                    bg_universe_scale = bg_universe.resize((1280,720))
                                    bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                                    label_for_bg = tkinter.Label(image=bg_universe1)
                                    label_for_bg.image = bg_universe1
                                    label_for_bg.place(x=0, y=0) 
                                    enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                                    enter_name.place(x = 10, y = 90)
                                    thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                                    thong_bao_1.place(x = 10, y = 5)
                                    thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                                    thong_bao_2.place(x = 10, y = 175)
                                    name = Entry(root, width=25, font=('Arial', 17))
                                    name.place(x = 10, y = 50)
                                    
                                    back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                                    back.place(x = 10, y = 705)
                                    chon_nguoi_1 = Label(root, font=('Arial', 17), text = 'Hãy chọn nhân vật đầu tiên để đặt cược: ', bg = '#050B14', fg = 'white')
                                    chon_nguoi_1.place(x = 700, y = 5)



                                    
                                    next_btn = Button(root, font=('Arial', 17), text = 'TIẾP TỤC', fg = 'black', command = nhan_nguoi_1, relief= RAISED)
                                    next_btn.place(x = 700, y = 50)
                                    
                                    
                                def nhan_nguoi_1():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(1))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(2))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(3))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(4))
                                        nguoi_1.close()

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        nguoi_1 = open("nguoi_1.txt", "w")
                                        nguoi_1.write(str(5))
                                        nguoi_1.close()
                                

                                    ask_ca_cuoc_2_nguoi_2()
                                    
                                    
                                    
                                


                                    
                                def check_for_hightlight():
                                    if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val1 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv1.place(x = 300, y = 175)
                                        

                                        


                                    
                                    if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                                        val2 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv2.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                                        val3 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv3.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                                        val4 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv4.place(x = 300, y = 175)
                                        

                                    

                                    if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                                        val5 = random.randint(2, 8)
                                        nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                                        nv1_name.place(x = 88, y = 550)
                                        nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                                        nv2_name.place(x = 336, y = 550)
                                        nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv3_name.place(x = 588, y = 550)
                                        nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                                        nv4_name.place(x = 830, y = 550)
                                        nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                                        nv5_name.place(x = 1078, y = 550)
                                        thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                                        thong_bao_chon_nv5.place(x = 300, y = 175)
                                        

                                        

                                linh_tinh()
                                img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                                button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                                back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                                back_from_this.place(x = 400, y = 90)
                                root.mainloop()
                            

                            


                        global name
                        bg_universe = Image.open(r'frameuniverse.png')
                        bg_universe_scale = bg_universe.resize((1280,720))
                        bg_universe1 = ImageTk.PhotoImage(bg_universe_scale)
                        label_for_bg = tkinter.Label(image=bg_universe1)
                        label_for_bg.image = bg_universe1
                        label_for_bg.place(x=0, y=0) 
                        enter_name = Button(root, text = 'Xác nhận', font = ('Arial',15), command = clicked_enter_name)
                        enter_name.place(x = 10, y = 90)
                        thong_bao_1 = Label(root, font=('Arial', 17), text = 'Đặt tên cho nhân vật :', bg = '#000116', fg = 'white')
                        thong_bao_1.place(x = 10, y = 5)
                        thong_bao_2 = Label(root, font=('Arial', 17), text = 'Chọn nhân vật: ', bg = '#050B14', fg = 'white')
                        thong_bao_2.place(x = 10, y = 175)
                        name = Entry(root, width=25, font=('Arial', 17))
                        name.place(x = 10, y = 50)
                        
                        back = Button(root, font=('Arial', 17), text = 'Thoát', fg = 'black')
                        back.place(x = 10, y = 705)
                        thong_bao_cuoc_2_nguoi = Label(root, font=('Arial', 17), text = 'Bạn có muốn thử chế độ cá cược 2 người?', bg = '#000116', fg = 'white')
                        thong_bao_cuoc_2_nguoi.place(x = 700, y = 105)
                        yes_btn = Button(root, font=('Arial', 17), text = 'CÓ', fg = 'black', command = ask_ca_cuoc_2_nguoi)
                        yes_btn.place(x = 700, y = 150)
                        no_btn = Button(root, font=('Arial', 17), text = 'KHÔNG', fg = 'black')
                        no_btn.place(x = 900, y = 150)





                        

                        
                    def check_for_hightlight():
                        if nv1_set1 == True and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv1 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 1', fg ='red', bg = '#000116')
                            thong_bao_chon_nv1.place(x = 300, y = 175)
                            

                            


                            
                        if nv1_set1 == False and nv2_set1 == True and nv3_set1 == False and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv2 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 2', fg ='red', bg = '#000116')
                            thong_bao_chon_nv2.place(x = 300, y = 175)
                            

                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == True and nv4_set1 == False and nv5_set1 == False:
                        
                            nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv3 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 3', fg ='red', bg = '#000116')
                            thong_bao_chon_nv3.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == True and nv5_set1 == False:
                            
                            nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_3)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv4 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 4', fg ='red', bg = '#000116')
                            thong_bao_chon_nv4.place(x = 300, y = 175)
                        
                            

                        if nv1_set1 == False and nv2_set1 == False and nv3_set1 == False and nv4_set1 == False and nv5_set1 == True:
                            
                            nv1_name = Button(root, text = 'Shampoo',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_1)
                            nv1_name.place(x = 88, y = 550)
                            nv2_name = Button(root, text = 'Dragon',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_2)
                            nv2_name.place(x = 336, y = 550)
                            nv3_name = Button(root, text = 'Ghost',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv3_name.place(x = 588, y = 550)
                            nv4_name = Button(root, text = 'Unicorn',width = 8, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_nv_4)
                            nv4_name.place(x = 830, y = 550)
                            nv5_name = Button(root, text = 'Tinker Bell',width = 8, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_nv_5)
                            nv5_name.place(x = 1078, y = 550)
                            thong_bao_chon_nv5 = Label(root, font = ('Arial',15), text = 'Bạn đã chọn nhân vật ở làn đua 5', fg ='red', bg = '#000116')
                            thong_bao_chon_nv5.place(x = 300, y = 175)
                            

                            

                    linh_tinh()
                    img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 = import_img_nv()
                    button_set_5_view(img_new_nv_1, img_new_nv_2, img_new_nv_3, img_new_nv_4, img_new_nv_5 )

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 400, y = 90)
                    root.mainloop()  



                def choose_map():
                 
                   
                    
                    
                    
                    

                    #Thiết kế tkinter man hinh chon map
                    root.resizable(True, True)
                    root.title('MAP')
                    
                    root.geometry('1280x720')
                    #bg shop
                    bgimg = PhotoImage(file = 'choosemap.png')
                    
                    
                    limg = Label(root, i = bgimg)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    
                    
                
                    
                    #width = 1280
                    #height = 720
                    #screen = pygame.display.set_mode((width, height))

                    #BG=pygame.image.load(r"bg_choose.png")
                    #BG=pygame.transform.scale(BG,(1280,720))

                    #pygame.display.set_caption("CHOOSE MAP AND SET")
                  
                    
                    #screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))
                    #pygame.display.flip()

                    #bg_img = PhotoImage(file = 'bg_choose.png')
                    #limg = Label(root, i = bg_img)
                    #limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)
                    
                    global duong_dua 
                    global set_nv 
                    duong_dua = 0
                    set_nv = 0
                    #duong dua
                    def clicked_map_1():
                        global duong_dua, map_1, map_2, map_3
                        map_1 = True
                        map_2 = False
                        map_3 = False
                        duong_dua = 1
                        myfile_chonmap = open("chonmap.txt", "w")
                        myfile_chonmap.write(str(1))
                        myfile_chonmap.close()
                        check_to_hightlight_map()
                    def clicked_map_2():
                        global duong_dua, map_1, map_2, map_3
                        map_1 = False
                        map_2 = True
                        map_3 = False
                        duong_dua = 2
                        myfile_chonmap = open("chonmap.txt", "w")
                        myfile_chonmap.write(str(2))
                        myfile_chonmap.close()
                        check_to_hightlight_map()
                    def clicked_map_3():
                        global duong_dua, map_1, map_2, map_3
                        map_1 = False
                        map_2 = False
                        map_3 = True
                        duong_dua = 3
                        myfile_chonmap = open("chonmap.txt", "w")
                        myfile_chonmap.write(str(3))
                        myfile_chonmap.close()
                        check_to_hightlight_map()
                    #set nv
                    def clicked_set_1():
                        global set_nv, choose_nv1, choose_nv2, choose_nv3, choose_nv4, choose_nv5
                        choose_nv1 = True
                        choose_nv2 = False
                        choose_nv3 = False
                        choose_nv4 = False
                        choose_nv5 = False
                        set_nv = 1

                        check_to_hightlight_char()
                    def clicked_set_2():
                        global set_nv, choose_nv1, choose_nv2, choose_nv3, choose_nv4, choose_nv5
                        choose_nv1 = False
                        choose_nv2 = True
                        choose_nv3 = False
                        choose_nv4 = False
                        choose_nv5 = False
                        set_nv = 2
                        check_to_hightlight_char()
                    def clicked_set_3():
                        global set_nv, choose_nv1, choose_nv2, choose_nv3, choose_nv4, choose_nv5
                        choose_nv1 = False
                        choose_nv2 = False
                        choose_nv3 = True
                        choose_nv4 = False
                        choose_nv5 = False
                        set_nv = 3
                        check_to_hightlight_char()
                    def clicked_set_4():
                        global set_nv, choose_nv1, choose_nv2, choose_nv3, choose_nv4, choose_nv5
                        choose_nv1 = False
                        choose_nv2 = False
                        choose_nv3 = False
                        choose_nv4 = True
                        choose_nv5 = False
                        set_nv = 4
                        check_to_hightlight_char()
                    def clicked_set_5():
                        global set_nv, choose_nv1, choose_nv2, choose_nv3, choose_nv4, choose_nv5
                        choose_nv1 = False
                        choose_nv2 = False
                        choose_nv3 = False
                        choose_nv4 = False
                        choose_nv5 = True
                        set_nv = 5
                        check_to_hightlight_char()
                    def clicked_back():
                        Msgbx = messagebox.askquestion('LƯU Ý', 'Bạn có muốn thoát ra ngoài?')
                        if Msgbx == 'yes':
                            for widgets in root.winfo_children():
                             widgets.destroy()
                            root.resizable(True, True)
                            root.title('SPACE WAR')
                            
                            root.geometry('1280x720')
                            #bg shop
                            root.config(bg = 'black')
                            log_out_main_game()
                          
                            root.mainloop()

                        else:
                            pass


                    def button_view():
                        #map
                        map_1 = Button(root, text = 'BÃI CỎ',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_1)
                        map_1.place(x = 133, y = 255)
                        map_2 = Button(root, text = 'BÃI BIỂN',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_2)
                        map_2.place(x = 534, y = 255)
                        map_3 = Button(root, text = 'VŨ TRỤ',width = 18, height = 1,font=('Arial', 17) , bg = '#9577A6', command = clicked_map_3)
                        map_3.place(x = 933, y = 255)
                        #setnv
                        set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_1)
                        set_1.place(x = 30, y = 587)
                        set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_2)
                        set_2.place(x = 280, y = 587)
                        set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_3)
                        set_3.place(x = 532, y = 587)
                        set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_4)
                        set_4.place(x = 788, y = 587)
                        set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_5)
                        set_5.place(x = 1040, y = 587)


                    def check_to_hightlight_map():
                        global map_1_choose, map_2_choose, map_3_choose
                        if map_1 == True and map_2 == False and map_3 == False:
                            map_1_choose = Button(root, text = 'BÃI CỎ',width = 18, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_map_1)
                            map_1_choose.place(x = 133, y = 255)
                            map_2_choose = Button(root, text = 'BÃI BIỂN',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_2)
                            map_2_choose.place(x = 534, y = 255)
                            map_3_choose = Button(root, text = 'VŨ TRỤ',width = 18, height = 1,font=('Arial', 17) , bg = '#9577A6', command = clicked_map_3)
                            map_3_choose.place(x = 933, y = 255)
                            
                        if 	map_1 == False and map_2 == True and map_3 == False:
                            map_1_choose = Button(root, text = 'BÃI CỎ',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_1)
                            map_1_choose.place(x = 133, y = 255)
                            map_2_choose = Button(root, text = 'BÃI BIỂN',width = 18, height = 1,font=('Arial', 17) ,bg = 'red', command = clicked_map_2)
                            map_2_choose.place(x = 534, y = 255)
                            map_3_choose = Button(root, text = 'VŨ TRỤ',width = 18, height = 1,font=('Arial', 17) , bg = '#9577A6', command = clicked_map_3)
                            map_3_choose.place(x = 933, y = 255)
                        if 	map_1 == False and map_2 == False and map_3 == True:
                            map_1_choose = Button(root, text = 'BÃI CỎ',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_1)
                            map_1_choose.place(x = 133, y = 255)
                            map_2_choose = Button(root, text = 'BÃI BIỂN',width = 18, height = 1,font=('Arial', 17) ,bg = '#9577A6', command = clicked_map_2)
                            map_2_choose.place(x = 534, y = 255)
                            map_3_choose = Button(root, text = 'VŨ TRỤ',width = 18, height = 1,font=('Arial', 17) , bg = 'red', command = clicked_map_3)
                            map_3_choose.place(x = 933, y = 255)


                    def check_to_hightlight_char():
                        if choose_nv1 == True and choose_nv2 == False and choose_nv3 == False and choose_nv4 == False and choose_nv5 == False:
                            set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = 'red', command = clicked_set_1)
                            set_1.place(x = 30, y = 587)
                            set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_2)
                            set_2.place(x = 280, y = 587)
                            set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_3)
                            set_3.place(x = 532, y = 587)
                            set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_4)
                            set_4.place(x = 788, y = 587)
                            set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_5)
                            set_5.place(x = 1040, y = 587)
                        if choose_nv1 == False and choose_nv2 == True and choose_nv3 == False and choose_nv4 == False and choose_nv5 == False:
                            set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_1)
                            set_1.place(x = 30, y = 587)
                            set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = 'red', command = clicked_set_2)
                            set_2.place(x = 280, y = 587)
                            set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_3)
                            set_3.place(x = 532, y = 587)
                            set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_4)
                            set_4.place(x = 788, y = 587)
                            set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_5)
                            set_5.place(x = 1040, y = 587)
                        if choose_nv1 == False and choose_nv2 == False and choose_nv3 == True and choose_nv4 == False and choose_nv5 == False:
                            set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_1)
                            set_1.place(x = 30, y = 587)
                            set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_2)
                            set_2.place(x = 280, y = 587)
                            set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = 'red', command = clicked_set_3)
                            set_3.place(x = 532, y = 587)
                            set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_4)
                            set_4.place(x = 788, y = 587)
                            set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_5)
                            set_5.place(x = 1040, y = 587)
                        if choose_nv1 == False and choose_nv2 == False and choose_nv3 == False and choose_nv4 == True and choose_nv5 == False:
                            set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_1)
                            set_1.place(x = 30, y = 587)
                            set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_2)
                            set_2.place(x = 280, y = 587)
                            set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_3)
                            set_3.place(x = 532, y = 587)
                            set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = 'red', command = clicked_set_4)
                            set_4.place(x = 788, y = 587)
                            set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_5)
                            set_5.place(x = 1040, y = 587)
                        if choose_nv1 == False and choose_nv2 == False and choose_nv3 == False and choose_nv4 == False and choose_nv5 == True:
                            set_1 = Button(root, text = '5 ANH EM',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_1)
                            set_1.place(x = 30, y = 587)
                            set_2 = Button(root, text = 'THIÊN THỂ',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_2)
                            set_2.place(x = 280, y = 587)
                            set_3 = Button(root, text = 'SINH VẬT',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_3)
                            set_3.place(x = 532, y = 587)
                            set_4 = Button(root, text = 'CỔ TÍCH',width = 16, height = 2,font=('Arial', 17) , bg = '#9577A6', command = clicked_set_4)
                            set_4.place(x = 788, y = 587)
                            set_5 = Button(root, text = 'HƯ CẤU',width = 16, height = 2,font=('Arial', 17) , bg = 'red', command = clicked_set_5)
                            set_5.place(x = 1040, y = 587)


                    def clicked_enter():
                        if duong_dua == 0 or set_nv == 0:
                            thong_bao = Label(root, font = ('Arial',15), text = 'Bạn chưa chọn 1 đường đua hoặc 1 set nào!', fg ='red', bg = '#000116')
                            thong_bao.place(x = 100, y = 340)

                        #if duong_dua ==2 :
                            #thong_bao = Label(root, font = ('Arial',15), text = 'This map or set of players requires money. Please come back when you are ready!', fg ='red', bg = '#000116')
                            #thong_bao.place(x = 400, y = 10)

                        #if duong_dua ==3 :
                            #thong_bao = Label(root, font = ('Arial',15), text = 'This map or set of players requires money. Please come back when you are ready!', fg ='red', bg = '#000116')
                            #thong_bao.place(x = 400, y = 10)

                        #if set_nv == 4 :
                            #thong_bao = Label(root, font = ('Arial',15), text = 'This map or set of players requires money. Please come back when you are ready!', fg ='red', bg = '#000116')
                            #thong_bao.place(x = 400, y = 10)

                        #if set_nv == 5 :
                            #thong_bao = Label(root, font = ('Arial',15), text = 'This map or set of players requires money. Please come back when you are ready!', fg ='red', bg = '#000116')
                            #thong_bao.place(x = 400, y = 10)

                        #gamechinh_ = [][]
                        #for i in range(1,5):
                            #for j in range(1,3):
                                #if duong_dua == j and set_nv == i:
                                    #gamechinh_[i][j]


                        myfile_2 = open("data_mua_map_2.txt", "r")
                        mua_2 = myfile_2.readline().strip()
                        myfile_2.close()

                        myfile_3 = open("data_mua_map_3.txt", "r")
                        mua_3 = myfile_3.readline().strip()
                        myfile_3.close()

                        myfile_4 = open("data_mua_set_4.txt", "r")
                        set_4 = myfile_4.readline().strip()
                        myfile_4.close()

                        myfile_5 = open("data_mua_set_5.txt", "r")
                        set_5 = myfile_5.readline().strip()
                        myfile_5.close()


                        if duong_dua == 1 and set_nv == 1:
                            #gamechinh_11()
                            choose_set_1()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(1))
                            myfile_map.close()
                        if duong_dua == 2 and set_nv == 1:
                            #gamechinh_12()
                            choose_set_1()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(2))
                            myfile_map.close()
                        if duong_dua == 3 and set_nv == 1:
                            #gamechinh_13()
                            choose_set_1()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(3))
                            myfile_map.close()
                        if duong_dua == 1 and set_nv == 2:
                            #gamechinh_21()
                            choose_set_2()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(1))
                            myfile_map.close()
                        if duong_dua == 2 and set_nv == 2:
                            #gamechinh_22()
                            choose_set_2()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(2))
                            myfile_map.close()
                        if duong_dua == 3 and set_nv == 2:
                            #gamechinh_23()
                            choose_set_2()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(3))
                            myfile_map.close()
                        if duong_dua == 1 and set_nv == 3:
                            #gamechinh_31()
                            choose_set_3()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(1))
                            myfile_map.close()
                        if duong_dua == 2 and set_nv == 3:
                            choose_set_3()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(2))
                            myfile_map.close()
                            #gamechinh_32()
                        if duong_dua == 3 and set_nv == 3:
                            #gamechinh_33()
                            choose_set_3()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(3))
                            myfile_map.close()
                        if duong_dua == 1 and set_nv == 4:
                            #gamechinh_41()
                            choose_set_4()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(1))
                            myfile_map.close()
                        if duong_dua == 2 and set_nv == 4:
                            #gamechinh_11()
                            choose_set_4()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(2))
                            myfile_map.close()
                        if duong_dua == 3 and set_nv == 4:
                            #gamechinh_11()
                            choose_set_4()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(3))
                            myfile_map.close()
                        if duong_dua == 1 and set_nv == 5:
                            #gamechinh_51()
                            choose_set_5()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(1))
                            myfile_map.close()
                        if duong_dua == 2 and set_nv == 5:
                            #gamechinh_52()
                            choose_set_5()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(2))
                            myfile_map.close()
                        if duong_dua == 3 and set_nv == 5:
                            #gamechinh_53()
                            choose_set_5()
                            myfile_map = open("data_chon_map.txt", "w")
                            myfile_map.write(str(3))
                            myfile_map.close()

                        if duong_dua == 1:
                            
                            myfile_chonmap = open("chonmap.txt", "w")
                            myfile_chonmap.write(str(1))
                            myfile_chonmap.close()

                        if duong_dua == 2:
                            
                            myfile_chonmap = open("chonmap.txt", "w")
                            myfile_chonmap.write(str(2))
                            myfile_chonmap.close()

                        if duong_dua == 3:
                            
                            myfile_chonmap = open("chonmap.txt", "w")
                            myfile_chonmap.write(str(3))
                            myfile_chonmap.close()

                        else:
                            pass
                        
                        
                            

                        

                        

                        myfile_2 = open("data_mua_set_2.txt", "r")
                        mua_2 = myfile_2.readline()
                        myfile_2.close()

                        myfile_3 = open("data_mua_set_3.txt", "r")
                        mua_3 = myfile_3.readline()
                        myfile_3.close()

                        myfile_4 = open("data_mua_set_4.txt", "r")
                        mua_4 = myfile_4.readline()
                        myfile_4.close()

                        myfile_5 = open("data_mua_set_5.txt", "r")
                        mua_5 = myfile_5.readline()
                        myfile_5.close()




                        

                        


                        
                    
                    def map1():
                        askmsgbox = messagebox.askquestion("LƯU Ý", "Xin hãy bấm chọn set nhân vật và trải nghiệm chế độ cược 2 người của chúng tôi!")
                        if askmsgbox == 'yes':
                            pass
                            
                            
                        else:
                            pass


                    img_map_1 = (Image.open(r'map1.PNG'))
                    resize_map_1 = img_map_1.resize((265,120))
                    img_new_map_1 = ImageTk.PhotoImage(resize_map_1)
                    img_map_2 = (Image.open(r'map2.png'))
                    resize_map_2 = img_map_2.resize((265,120))
                    img_new_map_2 = ImageTk.PhotoImage(resize_map_2)
                    img_map_3 = (Image.open(r'map3.png'))
                    resize_map_3 = img_map_3.resize((265,120))
                    img_new_map_3 = ImageTk.PhotoImage(resize_map_3)
                    #setnv
                    img_set_1 = (Image.open(r'5ae.png'))
                    resize_set_1 = img_set_1.resize((125,125))
                    img_new_set_1 = ImageTk.PhotoImage(resize_set_1)
                    img_set_2 = (Image.open(r'tinh_linh.png'))
                    resize_set_2 = img_set_2.resize((125,125))
                    img_new_set_2 = ImageTk.PhotoImage(resize_set_2)
                    img_set_3 = (Image.open(r'lam_quan.png'))
                    resize_set_3 = img_set_3.resize((125,125))
                    img_new_set_3 = ImageTk.PhotoImage(resize_set_3)
                    img_set_4 = (Image.open(r'co_tich.png'))
                    resize_set_4 = img_set_4.resize((125,125))
                    img_new_set_4 = ImageTk.PhotoImage(resize_set_4)
                    img_set_5 = (Image.open(r'ky_ao.png'))
                    resize_set_5 = img_set_5.resize((125,125))
                    img_new_set_5 = ImageTk.PhotoImage(resize_set_5)



                    def view(img_new_map_1, img_new_map_2, img_new_map_3, img_new_set_1, img_new_set_2, img_new_set_3, img_new_set_4, img_new_set_5 ):
                        #map
                        map1 = Button(root, text = '', image = img_new_map_1, command = clicked_map_1)
                        map1.place(x = 115, y = 83)
                        map2 = Button(root, text = '', image = img_new_map_2, command = clicked_map_2)
                        map2.place(x = 513, y = 83)
                        map3 = Button(root, text = '', image = img_new_map_3, command = clicked_map_3)
                        map3.place(x = 910, y = 83)
                        #setnv
                        set_1 = Button(root, text = '', image = img_new_set_1, command = clicked_set_1)
                        set_1.pack()
                        set_1.place(x = 69, y = 437)
                        set_2 = Button(root, text = '', image = img_new_set_2, command = clicked_set_2)
                        set_2.place(x = 322, y = 437)
                        set_3 = Button(root, text = '', image = img_new_set_3, command = clicked_set_3)
                        set_3.place(x = 576, y = 437)
                        set_4 = Button(root, text = '', image = img_new_set_4, command = clicked_set_4)
                        set_4.place(x = 830, y = 437)
                        set_5 = Button(root, text = '', image = img_new_set_5, command = clicked_set_5)
                        set_5.place(x = 1084, y = 437)
                        


                    #main
                    #width = 1280
                    #height = 720
                    #screen = pygame.display.set_mode((width, height))

                    #BG=pygame.image.load(r"bg_choose.png")
                    #BG=pygame.transform.scale(BG,(1280,720))

                    #pygame.display.set_caption("CHOOSE MAP AND SET")
                  
                    
                    #screen.blit (pygame.transform.scale (BG,screen.get_size()),(0,0))

                    #pygame.display.flip()

                    #bg_choose = Image.open(r'bg_choose.png')
                    #bg_choose_scale = bg_choose.resize((1280,720))
                    #bg_choose_new = ImageTk.PhotoImage(bg_choose_scale)
                    #bg_choose_canvas = Canvas(root, width = 1280, height = 720)
                    #bg_choose_canvas.pack(fill = "both", expand = True)
                    #bg_choose_canvas.create_image(0,0, image = bg_choose_new, anchor = 'nw' )




                    enter = Button(root, text = 'Tiếp tục', width = 6, height = 1,font=('Arial', 15), command = clicked_enter)
                    enter.place(x = 1000, y = 340)
                    back = Button(root, text = 'Thoát', width = 6, height = 1,font=('Arial', 15), command = clicked_back)
                    back.place(x = 800, y = 340)
                    choose_map = Label(root, font = ('Arial',15), text = 'Xin hãy chọn đường đua:', bg ='#000116', fg = 'white')
                    choose_map.place(x = 50, y = 10)
                    choose_set_char = Label(root, font = ('Arial',15), text = 'Xin hãy chọn set nhân vật:', bg = '#000116', fg = 'white')
                    choose_set_char.place(x = 50, y = 380)
                    button_view()
                    view(img_new_map_1, img_new_map_2, img_new_map_3, img_new_set_1, img_new_set_2, img_new_set_3, img_new_set_4, img_new_set_5)

                    root.mainloop() 
        

                def shop_with_ask_command():
                    askmsgbox = messagebox.askquestion("LƯU Ý", "Bạn đã sẵn sàng truy cập vào cửa hàng của chúng tôi?")
                    if askmsgbox == 'yes':
                        shop_command()
                    else:
                        pass




                def shop_command():

                    

                    
                    root.resizable(True, True)
                    root.title('CỬA HÀNG')
                    
                    root.geometry('1280x720')
                    #bg shop
                   
                    
                    


                    bg_img =   PhotoImage(file = 'giaodien.png')
                    limg = Label(root, i = bg_img)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                    
                    
                    #Mua    

                    def buy1():
                        if(btn1['bg']=='white'):
                            btn1['bg']='gray'
                            btn1['text']='Đã mua'
                    def buy2():
                        if(btn2['bg']=='white'):
                            btn2['bg']='gray'
                            btn2['text']='Đã mua'
                    def buy3():
                        if(btn3['bg']=='white'):
                            btn3['bg']='gray'
                            btn3['text']='Đã mua'
                    def buy4():
                        if(btn4['bg']=='white'):
                            btn4['bg']='gray'
                            btn4['text']='Đã mua'
                    def buy5():
                        if(btn5['bg']=='white'):
                            btn5['bg']='gray'
                            btn5['text']='Đã mua'
                    def buy6():
                        if(btn6['bg']=='white'):
                            btn6['bg']='gray'
                            btn6['text']='Đã mua'
                    
                    

                    
                            

                    #1
                    btn1=Button(root,text="2500",command=buy1,bg='white',fg='black')
                    btn1.place(relheight=0.05,
                            x=100,y=322,
                            width=345)
                    img1 = Image.open("shop1.png")
                    img1 = img1.resize((345,260))
                    img1=ImageTk.PhotoImage(img1)
                    lab1=Label(image=img1).place(x=100,y=50)

                    #2

                    btn2=Button(root,text="2500",command=buy2,bg='white',fg='black')
                    btn2.place(relheight=0.05,
                            x=460,y=322,
                            width=345)
                    img2 = Image.open("shop2.png")
                    img2 = img2.resize((345,260))
                    img2=ImageTk.PhotoImage(img2)
                    lab2=Label(image=img2).place(x=460,y=50)

                    #3
                    btn3=Button(root,text="100",command=buy3,bg='white',fg='black')
                    btn3.place(relheight=0.05,
                            x=820,y=322,
                            width=345)
                    img3 = Image.open("shop3.png")
                    img3 = img3.resize((345,260))
                    img3=ImageTk.PhotoImage(img3)
                    lab3=Label(image=img3).place(x=820,y=50)

                    #4
                    btn4=Button(root,text="500",command=buy4,bg='white',fg='black')
                    btn4.place(relheight=0.05,
                            x=100,y=637,
                            width=345)
                    img4 = Image.open("shop4.png")
                    img4 = img4.resize((345,260))
                    img4=ImageTk.PhotoImage(img4)
                    lab4=Label(image=img4).place(x=100,y=365)

                    #5
                    btn5=Button(root,text="5000",command=buy5,bg='white',fg='black')
                    btn5.place(relheight=0.05,
                            x=460,y=637,
                            width=345)
                    img5 = Image.open("shop5.png")
                    img5 = img5.resize((345,260))
                    img5=ImageTk.PhotoImage(img5)
                    lab5=Label(image=img5).place(x=460,y=365)

                    #6
                    btn6=Button(root,text="15000",command=buy6,bg='white',fg='black')
                    btn6.place(relheight=0.05,
                            x=820,y=637,
                            width=345)
                    img6 = Image.open("shop6.png")
                    img6 = img6.resize((345,260))
                    img6=ImageTk.PhotoImage(img6)
                    lab6=Label(image=img6).place(x=820,y=365)

                    #Back
                    imgback=Image.open("back.png")
                    imgback=ImageTk.PhotoImage(imgback)
                    root.bind_all()
                    
                    btnback=Button(root,image=imgback,bg='black',fg='white', command = logoutshop_command)
                    btnback.place(x=10,y=5)
                    
                    scores_var = IntVar()
                    wallet_account = Radiobutton(root, text='VÍ TIỀN', pady=5, padx=5, bd=2, relief=RAISED, variable=scores_var, value=1)
                    wallet_account.place( x= 10, y = 80)
                    

                   
                    
                    
                    
                
                    tong = 0
                    myfile = open("data1.txt", "r")
                    while True:

                        money = myfile.readline()
                            
                        if money != "":
                            tong += int(money)
                                
                        else: break
                    if tong != "":
                            
                        def clickvitien():
                            if(btn_giatri['bg']=='white'):
                                btn_giatri['bg']='gray'
                        btn_giatri=Button(root, text="" + str(tong), command=clickvitien, relief= RAISED ,bg='white',fg='black')
                        btn_giatri.place(relheight=0.05,
                            x=10,y=120,
                            width=80)
                    else: pass

                    mua = False
                    def buy1():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn1['bg']=='white' and tong >= 2500000):
                            trutien(2500)
                            loading_sau_khi_mua()
                            btn1['bg']='gray'
                            btn1['text']='Đã mua'
                            myfile = open("data_mua_map_2.txt", "w")
                            myfile.write(str(1))
                            myfile.close()
                            
                    def buy2():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn2['bg']=='white' and tong >= 2500000):
                            trutien(2500)
                            loading_sau_khi_mua()
                            btn2['bg']='gray'
                            btn2['text']='Đã mua'
                            myfile = open("data_mua_map_3.txt", "w")
                            myfile.write(str(1))
                            myfile.close()
                            
                    def buy3():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn3['bg']=='white' and tong >= 100):
                            trutien(100)
                            loading_sau_khi_mua()
                            btn3['bg']='gray'
                            btn3['text']='Đã mua'
                            myfile = open("data_mua_set_4.txt", "w")
                            myfile.write(1)
                            myfile.close()
                            
                    def buy4():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn4['bg']=='white' and tong >= 500):
                            trutien(500)
                            loading_sau_khi_mua()
                            btn4['bg']='gray'
                            btn4['text']='Đã mua'
                            myfile = open("data_mua_set_5.txt", "w")
                            myfile.write(1)
                            myfile.close()
                            
                    def buy5():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn5['bg']=='white' and tong >= 5000000):
                            trutien(5000)
                            loading_sau_khi_mua()
                            btn5['bg']='gray'
                            btn5['text']='Đã mua'
                            myfile = open("data_mua_set_5.txt", "w+")
                            myfile.write(str(1))
                            myfile.close()
                            
                    def buy6():
                        def loading_sau_khi_mua():
                            global fr
                            fr = Frame(root, width=700, height=700, padx=228, pady=108)
                            
                            frameCnt = 12
                            frames = [PhotoImage(file='loading.gif',format = 'gif -index %i' %(i)) for i in range(frameCnt)]
                            def update(ind):
                                frame = frames[ind]
                                ind += 1
                                label.configure(image=frame)
                                if ind == 12:
                                    fr.destroy()
                                    shop_command()
                                loop = 0
                                if ind <= 11:
                                    fr.after(50, update, ind)
                                    loop += 1
                            label = Label(fr)
                            label.pack()
                            fr.after(0, update, 0)

                        if(btn6['bg']=='white' and tong >= 15000000):
                            trutien(15000)
                            loading_sau_khi_mua()
                            btn6['bg']='gray'
                            btn6['text']='Đã mua'
                            myfile = open("data_mua_set_4.txt", "w+")
                            myfile.write(str(1))
                            myfile.close()
                            
                    
                    
                    def trutien(money):
                        
                        myfile = open("data1.txt", "a")
                        myfile.write(str(-money) + "\n")
                        myfile.close()
                        
                    

                      

                 

                    #1
                    btn1=Button(root,text="2500",command=buy1,bg='white',fg='black')
                    btn1.place(relheight=0.05,
                            x=100,y=322,
                            width=345)
                    img1 = Image.open("shop1.png")
                    img1 = img1.resize((345,260))
                    img1=ImageTk.PhotoImage(img1)
                    lab1=Label(image=img1).place(x=100,y=50)

                    #2

                    btn2=Button(root,text="2500",command=buy2,bg='white',fg='black')
                    btn2.place(relheight=0.05,
                            x=460,y=322,
                            width=345)
                    img2 = Image.open("shop2.png")
                    img2 = img2.resize((345,260))
                    img2=ImageTk.PhotoImage(img2)
                    lab2=Label(image=img2).place(x=460,y=50)

                    #3
                    btn3=Button(root,text="100",command=buy3,bg='white',fg='black')
                    btn3.place(relheight=0.05,
                            x=820,y=322,
                            width=345)
                    img3 = Image.open("shop3.png")
                    img3 = img3.resize((345,260))
                    img3=ImageTk.PhotoImage(img3)
                    lab3=Label(image=img3).place(x=820,y=50)

                    #4
                    btn4=Button(root,text="500",command=buy4,bg='white',fg='black')
                    btn4.place(relheight=0.05,
                            x=100,y=637,
                            width=345)
                    img4 = Image.open("shop4.png")
                    img4 = img4.resize((345,260))
                    img4=ImageTk.PhotoImage(img4)
                    lab4=Label(image=img4).place(x=100,y=365)

                    #5
                    btn5=Button(root,text="5000",command=buy5,bg='white',fg='black')
                    btn5.place(relheight=0.05,
                            x=460,y=637,
                            width=345)
                    img5 = Image.open("shop5.png")
                    img5 = img5.resize((345,260))
                    img5=ImageTk.PhotoImage(img5)
                    lab5=Label(image=img5).place(x=460,y=365)

                    #6
                    btn6=Button(root,text="15000",command=buy6,bg='white',fg='black')
                    btn6.place(relheight=0.05,
                            x=820,y=637,
                            width=345)
                    img6 = Image.open("shop6.png")
                    img6 = img6.resize((345,260))
                    img6=ImageTk.PhotoImage(img6)
                    lab6=Label(image=img6).place(x=820,y=365)

                    #Back
                    imgback=Image.open("back.png")
                    imgback=ImageTk.PhotoImage(imgback)
                    root.bind_all()
                    
                    btnback=Button(root,image=imgback,bg='black',fg='white', command = logoutshop_command)
                    btnback.place(x=10,y=5)
                    
                    scores_var = IntVar()
                    wallet_account = Radiobutton(root, text='VÍ TIỀN', pady=5, padx=5, bd=2, relief=RAISED, variable=scores_var, value=1)
                    wallet_account.place( x= 10, y = 80)
                    myfile.close()

                                

                    
                    

                    




                    

                   
                    
                    
                   

                    root.mainloop()


                   

                    

                def hide_frames_commands():
                    play_btn.destroy()
                    game_btn.destroy()
                    luat_choi_btn.destroy()
                    

                    for widget in scores_frame.winfo_children():
                        widget.destroy()
                    scores_frame.pack_forget()

                    for widget in play_frame.winfo_children():
                        widget.destroy()
                    play_frame.pack_forget()


                def story():
                    for widgets in root.winfo_children():
                            widgets.destroy()
                    root.resizable(True, True)
                    root.title('SPACE WAR')
                    
                    root.geometry('1280x720')
                    #bg shop
                    root.config(bg = 'black')
                    cua_so_ngoai = Frame(root)
                    cua_so_cot_truyen = Frame(root)
                    cua_so_cai_dat = Frame(root)
                    cua_so_dang_nhap = Frame(root)
                    cot_truyen_trang_1 = Frame(root)
                    cot_truyen_trang_2 = Frame(root)
                    cot_truyen_trang_3 = Frame(root)
                    cot_truyen_trang_4 = Frame(root)
                    cot_truyen_trang_5 = Frame(root)
                    cot_truyen_trang_6 = Frame(root)
                    cot_truyen_trang_7 = Frame(root)
                    cot_truyen_trang_8 = Frame(root)
                    cot_truyen_trang_9 = Frame(root)
                    cot_truyen_trang_10 = Frame(root)
                    cot_truyen_trang_11 = Frame(root)
                    cot_truyen_trang_12 = Frame(root)
                    cot_truyen_trang_13 = Frame(root)
                    cot_truyen_trang_14 = Frame(root)
                    cot_truyen_trang_15 = Frame(root)
                    cot_truyen_trang_16 = Frame(root)
                    cot_truyen_trang_17 = Frame(root)
                    cot_truyen_trang_18 = Frame(root)
                    cot_truyen_trang_19 = Frame(root)
                    cot_truyen_trang_20 = Frame(root)
                    cot_truyen_trang_21 = Frame(root)
                    cot_truyen_trang_22 = Frame(root)
                    cot_truyen_trang_23 = Frame(root)
                    
                    for frame in (cua_so_ngoai, cua_so_cot_truyen, cua_so_cai_dat, cua_so_dang_nhap, cot_truyen_trang_23, cot_truyen_trang_22, cot_truyen_trang_21, cot_truyen_trang_20, cot_truyen_trang_19, cot_truyen_trang_18, cot_truyen_trang_17, cot_truyen_trang_16, cot_truyen_trang_15, cot_truyen_trang_14, cot_truyen_trang_13, cot_truyen_trang_12, cot_truyen_trang_11, cot_truyen_trang_10, cot_truyen_trang_9, cot_truyen_trang_8, cot_truyen_trang_7, cot_truyen_trang_6, cot_truyen_trang_5, cot_truyen_trang_4, cot_truyen_trang_3,cot_truyen_trang_2,cot_truyen_trang_1):
                        frame.grid(row=0, column=0, sticky='news')
                    def raise_frame(frame):
                        frame.tkraise()
                    def clicked_game_chinh():
                        pass
                    def clicked_game_phu():
                        pass
                    def clicked_log_out():
                        pass 
                    def clicked_shop():
                        pass
                    def clicked_story():
                        pass
                    def clicked_history():
                        pass
                    def clicked_setting():
                        pass
                    def clicked_tutorial():
                        pass
                    def clicked_change_name():
                        pass
                    def clicked_change_pass():
                        pass
                    #cua so chinh
                    root.title("Space war")
                    lblVideo = Label(cua_so_ngoai)
                    lblVideo.pack()
                    main = tkvideo("SPACE WAR.mp4", lblVideo, loop = 1, size = (1280,720))
                    main.play()
                    game_chinh = Button(cua_so_ngoai, text = 'Câu chuyện',width = 15, height = 1,font=('Arial', 25) ,bg = '#9B9FAC', command=lambda:raise_frame(cot_truyen_trang_1))
                    game_chinh.place(relx = 0.5, rely = 0.6, anchor = CENTER)
                    
                    log_out = Button(cua_so_ngoai, text = 'Thoát ra',width = 15, height = 1,font=('Arial', 25) ,bg = '#9B9FAC', command = logoutshop_command)
                    log_out.place(relx = 0.5, rely = 0.8, anchor = CENTER)

                    #man hinh setting
                    lblVideo_setting = Label(cua_so_cai_dat)
                    lblVideo_setting.pack()
                    setting_bg = tkvideo("SPACE WAR.mp4", lblVideo_setting, loop = 1, size = (1280,720))
                    setting_bg.play()
                    change_name = Button(cua_so_cai_dat, text = 'change user name',width = 15, height = 1,font=('Arial', 25) ,bg = '#1CA5C9', command = clicked_change_name)
                    change_name.place(relx = 0.5, rely = 0.6, anchor = CENTER)
                    change_pass = Button(cua_so_cai_dat, text = 'change password',width = 15, height = 1,font=('Arial', 25) ,bg = '#1CA5C9', command = clicked_change_pass)
                    change_pass.place(relx = 0.5, rely = 0.7, anchor = CENTER)
                    quay_ve = Button(cua_so_cai_dat, text = 'Thoát',width = 6, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x = 1200, y = 650)
                    #cac trang cot truyen
                    bg_cot_truyen_trang_1 = Image.open(r'1.png')
                    bg_cot_truyen_trang_1_scale = bg_cot_truyen_trang_1.resize((1280,720))
                    bg_cot_truyen_trang_1_new = ImageTk.PhotoImage(bg_cot_truyen_trang_1_scale)
                    label_for_bg_1 = Label(cot_truyen_trang_1, image=bg_cot_truyen_trang_1_new)
                    label_for_bg_1.image = bg_cot_truyen_trang_1_new
                    label_for_bg_1.place(x=0, y=0) 
                    bg_cot_truyen_trang_2 = Image.open(r'2.png')
                    bg_cot_truyen_trang_2_scale = bg_cot_truyen_trang_2.resize((1280,720))
                    bg_cot_truyen_trang_2_new = ImageTk.PhotoImage(bg_cot_truyen_trang_2_scale)
                    label_for_bg_2 = Label(cot_truyen_trang_2, image=bg_cot_truyen_trang_2_new)
                    label_for_bg_2.image = bg_cot_truyen_trang_2_new
                    label_for_bg_2.place(x=0, y=0)
                    bg_cot_truyen_trang_3 = Image.open(r'3.png')
                    bg_cot_truyen_trang_3_scale = bg_cot_truyen_trang_3.resize((1280,720))
                    bg_cot_truyen_trang_3_new = ImageTk.PhotoImage(bg_cot_truyen_trang_3_scale)
                    label_for_bg_3 = Label(cot_truyen_trang_3, image=bg_cot_truyen_trang_3_new)
                    label_for_bg_3.image = bg_cot_truyen_trang_3_new
                    label_for_bg_3.place(x=0, y=0)
                    bg_cot_truyen_trang_4 = Image.open(r'4.png')
                    bg_cot_truyen_trang_4_scale = bg_cot_truyen_trang_4.resize((1280,720))
                    bg_cot_truyen_trang_4_new = ImageTk.PhotoImage(bg_cot_truyen_trang_4_scale)
                    label_for_bg_4 = Label(cot_truyen_trang_4, image=bg_cot_truyen_trang_4_new)
                    label_for_bg_4.image = bg_cot_truyen_trang_4_new
                    label_for_bg_4.place(x=0, y=0)
                    bg_cot_truyen_trang_5 = Image.open(r'5.png')
                    bg_cot_truyen_trang_5_scale = bg_cot_truyen_trang_5.resize((1280,720))
                    bg_cot_truyen_trang_5_new = ImageTk.PhotoImage(bg_cot_truyen_trang_5_scale)
                    label_for_bg_5 = Label(cot_truyen_trang_5, image=bg_cot_truyen_trang_5_new)
                    label_for_bg_5.image = bg_cot_truyen_trang_5_new
                    label_for_bg_5.place(x=0, y=0)
                    bg_cot_truyen_trang_6 = Image.open(r'6.png')
                    bg_cot_truyen_trang_6_scale = bg_cot_truyen_trang_6.resize((1280,720))
                    bg_cot_truyen_trang_6_new = ImageTk.PhotoImage(bg_cot_truyen_trang_6_scale)
                    label_for_bg_6 = Label(cot_truyen_trang_6, image=bg_cot_truyen_trang_6_new)
                    label_for_bg_6.image = bg_cot_truyen_trang_6_new
                    label_for_bg_6.place(x=0, y=0)
                    bg_cot_truyen_trang_7 = Image.open(r'7.png')
                    bg_cot_truyen_trang_7_scale = bg_cot_truyen_trang_7.resize((1280,720))
                    bg_cot_truyen_trang_7_new = ImageTk.PhotoImage(bg_cot_truyen_trang_7_scale)
                    label_for_bg_7 = Label(cot_truyen_trang_7, image=bg_cot_truyen_trang_7_new)
                    label_for_bg_7.image = bg_cot_truyen_trang_7_new
                    label_for_bg_7.place(x=0, y=0)
                    bg_cot_truyen_trang_8 = Image.open(r'8.png')
                    bg_cot_truyen_trang_8_scale = bg_cot_truyen_trang_8.resize((1280,720))
                    bg_cot_truyen_trang_8_new = ImageTk.PhotoImage(bg_cot_truyen_trang_8_scale)
                    label_for_bg_8 = Label(cot_truyen_trang_8, image=bg_cot_truyen_trang_8_new)
                    label_for_bg_8.image = bg_cot_truyen_trang_8_new
                    label_for_bg_8.place(x=0, y=0)
                    bg_cot_truyen_trang_9 = Image.open(r'9.png')
                    bg_cot_truyen_trang_9_scale = bg_cot_truyen_trang_9.resize((1280,720))
                    bg_cot_truyen_trang_9_new = ImageTk.PhotoImage(bg_cot_truyen_trang_9_scale)
                    label_for_bg_9 = Label(cot_truyen_trang_9, image=bg_cot_truyen_trang_9_new)
                    label_for_bg_9.image = bg_cot_truyen_trang_9_new
                    label_for_bg_9.place(x=0, y=0)
                    bg_cot_truyen_trang_10 = Image.open(r'10.png')
                    bg_cot_truyen_trang_10_scale = bg_cot_truyen_trang_10.resize((1280,720))
                    bg_cot_truyen_trang_10_new = ImageTk.PhotoImage(bg_cot_truyen_trang_10_scale)
                    label_for_bg_10 = Label(cot_truyen_trang_10, image=bg_cot_truyen_trang_10_new)
                    label_for_bg_10.image = bg_cot_truyen_trang_10_new
                    label_for_bg_10.place(x=0, y=0)
                    bg_cot_truyen_trang_11 = Image.open(r'11.png')
                    bg_cot_truyen_trang_11_scale = bg_cot_truyen_trang_11.resize((1280,720))
                    bg_cot_truyen_trang_11_new = ImageTk.PhotoImage(bg_cot_truyen_trang_11_scale)
                    label_for_bg_11 = Label(cot_truyen_trang_11, image=bg_cot_truyen_trang_11_new)
                    label_for_bg_11.image = bg_cot_truyen_trang_11_new
                    label_for_bg_11.place(x=0, y=0)
                    bg_cot_truyen_trang_12 = Image.open(r'12.png')
                    bg_cot_truyen_trang_12_scale = bg_cot_truyen_trang_12.resize((1280,720))
                    bg_cot_truyen_trang_12_new = ImageTk.PhotoImage(bg_cot_truyen_trang_12_scale)
                    label_for_bg_12 = Label(cot_truyen_trang_12, image=bg_cot_truyen_trang_12_new)
                    label_for_bg_12.image = bg_cot_truyen_trang_12_new
                    label_for_bg_12.place(x=0, y=0)
                    bg_cot_truyen_trang_13 = Image.open(r'13.png')
                    bg_cot_truyen_trang_13_scale = bg_cot_truyen_trang_13.resize((1280,720))
                    bg_cot_truyen_trang_13_new = ImageTk.PhotoImage(bg_cot_truyen_trang_13_scale)
                    label_for_bg_13 = Label(cot_truyen_trang_13, image=bg_cot_truyen_trang_13_new)
                    label_for_bg_13.image = bg_cot_truyen_trang_13_new
                    label_for_bg_13.place(x=0, y=0)
                    bg_cot_truyen_trang_14 = Image.open(r'14.png')
                    bg_cot_truyen_trang_14_scale = bg_cot_truyen_trang_14.resize((1280,720))
                    bg_cot_truyen_trang_14_new = ImageTk.PhotoImage(bg_cot_truyen_trang_14_scale)
                    label_for_bg_14 = Label(cot_truyen_trang_14, image=bg_cot_truyen_trang_14_new)
                    label_for_bg_14.image = bg_cot_truyen_trang_14_new
                    label_for_bg_14.place(x=0, y=0)
                    bg_cot_truyen_trang_15 = Image.open(r'15.png')
                    bg_cot_truyen_trang_15_scale = bg_cot_truyen_trang_15.resize((1280,720))
                    bg_cot_truyen_trang_15_new = ImageTk.PhotoImage(bg_cot_truyen_trang_15_scale)
                    label_for_bg_15 = Label(cot_truyen_trang_15, image=bg_cot_truyen_trang_15_new)
                    label_for_bg_15.image = bg_cot_truyen_trang_15_new
                    label_for_bg_15.place(x=0, y=0)
                    bg_cot_truyen_trang_16 = Image.open(r'16.png')
                    bg_cot_truyen_trang_16_scale = bg_cot_truyen_trang_16.resize((1280,720))
                    bg_cot_truyen_trang_16_new = ImageTk.PhotoImage(bg_cot_truyen_trang_16_scale)
                    label_for_bg_16 = Label(cot_truyen_trang_16, image=bg_cot_truyen_trang_16_new)
                    label_for_bg_16.image = bg_cot_truyen_trang_16_new
                    label_for_bg_16.place(x=0, y=0)
                    bg_cot_truyen_trang_17 = Image.open(r'17.png')
                    bg_cot_truyen_trang_17_scale = bg_cot_truyen_trang_17.resize((1280,720))
                    bg_cot_truyen_trang_17_new = ImageTk.PhotoImage(bg_cot_truyen_trang_17_scale)
                    label_for_bg_17 = Label(cot_truyen_trang_17, image=bg_cot_truyen_trang_17_new)
                    label_for_bg_17.image = bg_cot_truyen_trang_17_new
                    label_for_bg_17.place(x=0, y=0)
                    bg_cot_truyen_trang_18 = Image.open(r'18.png')
                    bg_cot_truyen_trang_18_scale = bg_cot_truyen_trang_18.resize((1280,720))
                    bg_cot_truyen_trang_18_new = ImageTk.PhotoImage(bg_cot_truyen_trang_18_scale)
                    label_for_bg_18 = Label(cot_truyen_trang_18, image=bg_cot_truyen_trang_18_new)
                    label_for_bg_18.image = bg_cot_truyen_trang_18_new
                    label_for_bg_18.place(x=0, y=0)
                    bg_cot_truyen_trang_19 = Image.open(r'19.png')
                    bg_cot_truyen_trang_19_scale = bg_cot_truyen_trang_19.resize((1280,720))
                    bg_cot_truyen_trang_19_new = ImageTk.PhotoImage(bg_cot_truyen_trang_19_scale)
                    label_for_bg_19 = Label(cot_truyen_trang_19, image=bg_cot_truyen_trang_19_new)
                    label_for_bg_19.image = bg_cot_truyen_trang_19_new
                    label_for_bg_19.place(x=0, y=0)
                    bg_cot_truyen_trang_20 = Image.open(r'20.png')
                    bg_cot_truyen_trang_20_scale = bg_cot_truyen_trang_20.resize((1280,720))
                    bg_cot_truyen_trang_20_new = ImageTk.PhotoImage(bg_cot_truyen_trang_20_scale)
                    label_for_bg_20 = Label(cot_truyen_trang_20, image=bg_cot_truyen_trang_20_new)
                    label_for_bg_20.image = bg_cot_truyen_trang_20_new
                    label_for_bg_20.place(x=0, y=0)
                    bg_cot_truyen_trang_21 = Image.open(r'21.png')
                    bg_cot_truyen_trang_21_scale = bg_cot_truyen_trang_21.resize((1280,720))
                    bg_cot_truyen_trang_21_new = ImageTk.PhotoImage(bg_cot_truyen_trang_21_scale)
                    label_for_bg_21 = Label(cot_truyen_trang_21, image=bg_cot_truyen_trang_21_new)
                    label_for_bg_21.image = bg_cot_truyen_trang_21_new
                    label_for_bg_21.place(x=0, y=0)
                    bg_cot_truyen_trang_22 = Image.open(r'22.png')
                    bg_cot_truyen_trang_22_scale = bg_cot_truyen_trang_22.resize((1280,720))
                    bg_cot_truyen_trang_22_new = ImageTk.PhotoImage(bg_cot_truyen_trang_22_scale)
                    label_for_bg_22 = Label(cot_truyen_trang_22, image=bg_cot_truyen_trang_22_new)
                    label_for_bg_22.image = bg_cot_truyen_trang_22_new
                    label_for_bg_22.place(x=0, y=0)
                    bg_cot_truyen_trang_23 = Image.open(r'23.png')
                    bg_cot_truyen_trang_23_scale = bg_cot_truyen_trang_23.resize((1280,720))
                    bg_cot_truyen_trang_23_new = ImageTk.PhotoImage(bg_cot_truyen_trang_23_scale)
                    label_for_bg_23 = Label(cot_truyen_trang_23, image=bg_cot_truyen_trang_23_new)
                    label_for_bg_23.image = bg_cot_truyen_trang_23_new
                    label_for_bg_23.place(x=0, y=0)


                    #nut trang ke tiep
                    trang_sau = Button(cot_truyen_trang_1, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_2))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_2, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_3))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_3, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_4))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_4, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_5))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_5, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_6))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_6, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_7))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_7, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_8))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_8, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_9))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_9, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_10))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_10, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_11))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_11, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_12))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_12, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_13))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_13, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_14))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_14, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_15))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_15, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_16))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_16, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_17))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_17, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_18))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_18, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_19))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_19, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_20))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_20, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_21))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_21, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_22))
                    trang_sau.place(x = 1000, y = 600)
                    trang_sau = Button(cot_truyen_trang_22, text = 'Trang sau',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_23))
                    trang_sau.place(x = 1000, y = 600)
                    #nut trang truoc do
                    trang_truoc = Button(cot_truyen_trang_2, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_1))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_3, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_2))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_4, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_3))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_5, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_4))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_6, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_5))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_7, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_6))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_8, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_7))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_9, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_8))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_10, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_9))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_11, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_10))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_12, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_11))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_13, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_12))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_14, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_13))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_15, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_14))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_16, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_15))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_17, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_16))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_18, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_17))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_19, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_18))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_20, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_19))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_21, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_20))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_22, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_21))
                    trang_truoc.place(x = 20, y = 450)
                    trang_truoc = Button(cot_truyen_trang_23, text = 'Trang trước',width = 10, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cot_truyen_trang_22))
                    trang_truoc.place(x = 20, y = 450)
                    #nut quay ve menu
                    quay_ve = Button(cot_truyen_trang_1, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_2, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_3, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_4, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_5, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_6, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_7, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_8, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_9, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_10, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_11, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_12, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_13, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_14, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_15, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_16, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_17, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_18, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_19, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_20, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_21, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_22, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)
                    quay_ve = Button(cot_truyen_trang_23, text = 'Màn hình chính',width = 15, height = 1,font=('Arial', 25) ,bg = 'white', command=lambda:raise_frame(cua_so_ngoai))
                    quay_ve.place(x=20, y=600)

                    raise_frame(cua_so_ngoai)
                    root.mainloop()

                # BUTTONS
                # CHOICES
                shop_btn = Button(root, text='       CỬA HÀNG       ', bd=3, relief=RAISED, padx=5, pady=5, command=shop_with_ask_command, font=('', 15))
                shop_btn.place(x = 50, y = 150)

                history_btn = Button(root, text='         LỊCH SỬ         ', bd=3, relief=RAISED, padx=5, pady=5, command=wallet_command, font=('', 15))
                history_btn.place(x = 50, y = 330)
                
                

                logout_btn = Button(root, text='THOÁT', bd=3, relief=RAISED, padx=5, pady=5, command=Button_View, font=('', 15))
                logout_btn.place(x = 620, y = 600)

                

                def setting():
                    #Thiết kế tkinter setting
                    root.resizable(True, True)
                    root.title('SHOP')
                    
                    root.geometry('1280x720')
                    
                    #bg setting
                    bg_img =   PhotoImage(file = 'giaodiennop.png')
                    limg = Label(root, i = bg_img)
                    limg.place(relx = 0.5, rely = 0.5, anchor = CENTER)

                    change_password_btn = Button(root, text='    ĐỔI MẬT KHẨU    ', bd=3, relief=RAISED, padx=5, pady=5, command=change_password_command, font=('', 15))
                    change_password_btn.place(x = 530, y = 230)

                    change_username_btn = Button(root, text='  ĐỔI TÊN INGAME  ', bd=3, relief=RAISED, padx=5, pady=5, command=change_username_command, font=('', 15))
                    change_username_btn.place(x = 530, y = 320)

                    back_from_this = Button(root, text = 'Thoát', font = ('Arial',15), command = logout_choose_set_command, bg = 'yellow')
                    back_from_this.place(x = 600, y = 600)

                        
                    root.mainloop()



                play_restart_btn = Button(root, text='', padx=5, pady=5, command='')

                


                
                play_btn = Button(root, text='TRÒ CHƠI PHỤ ', bd=3, relief=SUNKEN, padx=5, pady=5, bg='gray', command=play_command, font=('', 35))
                play_btn.place(x= 460, y = 350)

                game_btn = Button(root, text=' BẮT ĐẦU CHƠI ', bd=3, relief=RAISED, padx=5, pady=5, bg='gray', command=maingame_command, font=('', 35))
                game_btn.place(x = 460, y = 150)

                

                luat_choi_btn = Button(root, text='     HƯỚNG DẪN      ', bd=3, relief=SUNKEN, padx=5, pady=5, command=instruction_and_rules, font=('', 15))
                luat_choi_btn.place(x = 50, y = 510)

                cot_truyen = Button(root, text='     CỐT TRUYỆN     ', bd=3, relief=SUNKEN, padx=5, pady=5, command=story, font=('', 15))
                cot_truyen.place(x = 50, y = 240)

                setting_btn = Button(root, text='         CÀI ĐẶT         ', bd=3, relief=RAISED, padx=5, pady=5, command=setting, font=('', 15))
                setting_btn.place(x = 50, y = 420)

                # bugs but somehow the program can't run without them
                play_frame = Frame(app_frame, height=500, width=500)
                scores_frame = Frame(app_frame, height=500, width=500)

            home()

    global logo
    img = Image.open('logo game.PNG')
    logo = ImageTk.PhotoImage(img)
    logo_lbl = Label(login_frame, image=logo, pady=5)
    logo_lbl.grid(row=0, column=0, columnspan=2)
    login_label = Label(login_frame, text='ĐĂNG NHẬP', font=('', 35))
    login_label.grid(row=1, column=0, columnspan=2, sticky=NSEW)
    notice_label = Label(login_frame, text='', fg='red')
    notice_label.grid(row=2, column=0, columnspan=2, sticky=NSEW)
    username_label = Label(login_frame, text='Tên đăng nhập:', anchor=W)
    username_label.grid(row=3, column=0, columnspan=2, sticky=W)
    username_entry = Entry(login_frame, width=50)
    username_entry.grid(row=4, column=0, columnspan=2, sticky=W)
    password_label = Label(login_frame, text='Mật khẩu:', anchor=W)
    password_label.grid(row=5, column=0, sticky=W, columnspan=2)
    password_entry = Entry(login_frame, width=50)
    password_entry.grid(row=6, column=0, columnspan=2, sticky=W)
    password_entry.config(show='?')
    login_btn = Button(login_frame, text='Đăng nhập', padx=5, pady=5, bd=3, relief=RAISED, command=login_command)
    login_btn.grid(row=7, column=0, sticky=W, pady=(5, 0), columnspan=2)

    username_entry.bind('<Return>', login_command)
    password_entry.bind('<Return>', login_command)
    login_btn.bind('<Return>', login_command)

    def show_pass():
        if var.get() == 1:
            password_entry.config(show='')
        if var.get() == 0:
            password_entry.config(show='?')

    # Creating a checkbox
    var = IntVar()
    var.set('0')
    check = Checkbutton(login_frame, text='Hiển thị mật khẩu', onvalue=1, offvalue=0, variable=var, command=show_pass, anchor=CENTER)
    check.grid(row=7, column=1, sticky=E)

    # DONT HAVE AN ACCOUNT YET? SIGN UP HERE
    dhaay_label = Label(login_frame, text="Chưa có tài khoản? Không sao, hãy đăng ký ở đây ", anchor=W)
    dhaay_label.grid(row=8, column=0, sticky=W, pady=(5, 0))
    def here_not_underlined(event=None):
        f = font.Font(here_label, here_label.cget("font"))
        f.configure(underline = False)
        here_label.configure(font=f)
    def here_underlined(event=None):
        f = font.Font(here_label, here_label.cget("font"))
        f.configure(underline = True)
        here_label.configure(font=f)
    def signup(event=None):
        login_frame.pack_forget()

        loading1()

    here_label = Label(login_frame, text="đây.", fg='#007AFF', anchor=W)
    here_label.grid(row=8, column=0, pady=(5, 0), sticky=W, padx=(245, 0))
    here_label.bind('<Button-1>', signup)
    here_label.bind('<Leave>', here_not_underlined)
    here_label.bind('<Enter>', here_underlined)





root.mainloop()
